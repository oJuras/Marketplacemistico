<!DOCTYPE html>
<!-- saved from url=(0152)https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/693c525035ab99aa30ee6df6a6d456e9/1a62e1eb-e79b-4c09-8e21-6e5a7353ee62/index.html -->
<html lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketplace de Magia</title>
    <style type="text/css" id="operaUserStyle">
  video {
    filter: -opera-shader(url(data:text/plain;base64,Ly8gaHR0cHM6Ly9naXRodWIuY29tL0dQVU9wZW4tRWZmZWN0cy9GaWRlbGl0eUZYLUNBUwovLyB2MwoKdW5pZm9ybSBzaGFkZXIgaUNodW5rOwp1bmlmb3JtIGZsb2F0MiBpQ2h1bmtTaXplOwp1bmlmb3JtIGZsb2F0MiBpTW91c2U7CnVuaWZvcm0gZmxvYXQgaUFyZ3NbMV07Cgpjb25zdCBmbG9hdCBFUFNJT04gPSAwLjE7CmNvbnN0IGZsb2F0IFZfTUlOID0gMDsKY29uc3QgZmxvYXQgVl9MT1cgPSAwLjI1Owpjb25zdCBmbG9hdCBWX01FRCA9IDAuNTsKY29uc3QgZmxvYXQgVl9ISUdIID0gMC43NTsKY29uc3QgZmxvYXQgVl9NQVggPSAxOwoKY29uc3QgZmxvYXQgVEhSRVNIT0xEX0FSRUEgPSA4MDAgKiA2MDA7CmNvbnN0IGZsb2F0IE1JTl9BUkVBID0gNDAwICogMTAwOwpjb25zdCBmbG9hdCBNSU5fU1RSSVAgPSAyMDsKY29uc3QgZmxvYXQgTUFSR0lOID0gMTsKCmZsb2F0MyBwaXhlbChpbnQgeCwgaW50IHksIGZsb2F0MiB4eSkgewogICAgcmV0dXJuIGlDaHVuay5ldmFsKHh5ICsgZmxvYXQyKHgsIHkpKS5yZ2I7Cn0KCmZsb2F0MyBzaGFycGVuKGZsb2F0MiB4eSkgewogICAgZmxvYXQzIGYgPQogICAgICAgIHBpeGVsKC0xLCAtMSwgeHkpICogIDEgKwogICAgICAgIHBpeGVsKCAwLCAtMSwgeHkpICogLTEgKwogICAgICAgIHBpeGVsKCAxLCAtMSwgeHkpICogIDEgKwoKICAgICAgICBwaXhlbCgtMSwgMCwgeHkpICogLTEgICsKICAgICAgICBwaXhlbCggMCwgMCwgeHkpICogLTEgICsKICAgICAgICBwaXhlbCggMSwgMCwgeHkpICogLTEgICsKCiAgICAgICAgcGl4ZWwoLTEsIDEsIHh5KSAqIDEgICArCiAgICAgICAgcGl4ZWwoIDAsIDEsIHh5KSAqIC0xICArCiAgICAgICAgcGl4ZWwoIDEsIDEsIHh5KSAqIDE7CiAgICByZXR1cm4gZiAvIC0xOwp9CgpmbG9hdDQgUkdYMihmbG9hdDIgeHkpIHsKICAgIGZsb2F0NCBjb2xvciA9IGlDaHVuay5ldmFsKHh5KTsKCiAgICBpZiAoaUNodW5rU2l6ZS54ICogaUNodW5rU2l6ZS55IDwgTUlOX0FSRUEpIHsKICAgICAgICByZXR1cm4gY29sb3I7CiAgICB9CgogICAgaWYgKGlDaHVua1NpemUueSA8IE1JTl9TVFJJUCB8fCBpQ2h1bmtTaXplLnggPCBNSU5fU1RSSVApIHsKICAgICAgICByZXR1cm4gY29sb3I7CiAgICB9CgogICAgaWYgKHh5LnggPCBNQVJHSU4gfHwgeHkueCA+IChpQ2h1bmtTaXplLnggLSBNQVJHSU4pIHx8CiAgICAgICAgeHkueSA8IE1BUkdJTiB8fCB4eS55ID4gKGlDaHVua1NpemUueSAtIE1BUkdJTikpIHsKICAgICAgICByZXR1cm4gY29sb3I7CiAgICB9CgogICAgcmV0dXJuIGZsb2F0NChzaGFycGVuKHh5KSwgMSk7Cn0KCmZsb2F0IG1pbjMoZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeikgewogICAgcmV0dXJuIG1pbih4LCBtaW4oeSwgeikpOwp9CgpmbG9hdCBtYXgzKGZsb2F0IHgsIGZsb2F0IHksIGZsb2F0IHopIHsKICAgIHJldHVybiBtYXgoeCwgbWF4KHksIHopKTsKfQoKZmxvYXQgcmNwKGZsb2F0IHYpIHsKICAgIHJldHVybiAxIC8gdjsKfQoKZmxvYXQzIFJHWDMoZmxvYXQyIHh5LCBmbG9hdCBzdHJlbmd0aCkgewogICAgZmxvYXQzIGEgPSBwaXhlbCgtMSwgLTEsIHh5KTsKICAgIGZsb2F0MyBiID0gcGl4ZWwoIDAsIC0xLCB4eSk7CiAgICBmbG9hdDMgYyA9IHBpeGVsKCAxLCAtMSwgeHkpOwoKICAgIGZsb2F0MyBkID0gcGl4ZWwoLTEsIDAsIHh5KTsKICAgIGZsb2F0MyBlID0gcGl4ZWwoIDAsIDAsIHh5KTsKICAgIGZsb2F0MyBmID0gcGl4ZWwoIDEsIDAsIHh5KTsKCiAgICBmbG9hdDMgZyA9IHBpeGVsKC0xLCAxLCB4eSk7CiAgICBmbG9hdDMgaCA9IHBpeGVsKCAwLCAxLCB4eSk7CiAgICBmbG9hdDMgaSA9IHBpeGVsKCAxLCAxLCB4eSk7CgogICAgZmxvYXQgbW5SID0gbWluMyhtaW4zKGQuciwgZS5yLCBmLnIpLCBiLnIsIGgucik7CiAgICBmbG9hdCBtbkcgPSBtaW4zKG1pbjMoZC5nLCBlLmcsIGYuZyksIGIuZywgaC5nKTsKICAgIGZsb2F0IG1uQiA9IG1pbjMobWluMyhkLmIsIGUuYiwgZi5iKSwgYi5iLCBoLmIpOwoKICAgIGZsb2F0IG1uUjIgPSBtaW4zKG1pbjMobW5SLCBhLnIsIGMuciksIGcuciwgaS5yKTsKICAgIGZsb2F0IG1uRzIgPSBtaW4zKG1pbjMobW5HLCBhLmcsIGMuZyksIGcuZywgaS5nKTsKICAgIGZsb2F0IG1uQjIgPSBtaW4zKG1pbjMobW5CLCBhLmIsIGMuYiksIGcuYiwgaS5iKTsKCiAgICBtblIgPSBtblIgKyBtblIyOwogICAgbW5HID0gbW5HICsgbW5HMjsKICAgIG1uQiA9IG1uQiArIG1uQjI7CgogICAgZmxvYXQgbXhSID0gbWF4MyhtYXgzKGQuciwgZS5yLCBmLnIpLCBiLnIsIGgucik7CiAgICBmbG9hdCBteEcgPSBtYXgzKG1heDMoZC5nLCBlLmcsIGYuZyksIGIuZywgaC5nKTsKICAgIGZsb2F0IG14QiA9IG1heDMobWF4MyhkLmIsIGUuYiwgZi5iKSwgYi5iLCBoLmIpOwoKICAgIGZsb2F0IG14UjIgPSBtYXgzKG1heDMobXhSLCBhLnIsIGMuciksIGcuciwgaS5yKTsKICAgIGZsb2F0IG14RzIgPSBtYXgzKG1heDMobXhHLCBhLmcsIGMuZyksIGcuZywgaS5nKTsKICAgIGZsb2F0IG14QjIgPSBtYXgzKG1heDMobXhCLCBhLmIsIGMuYiksIGcuYiwgaS5iKTsKCiAgICBteFIgPSBteFIgKyBteFIyOwogICAgbXhHID0gbXhHICsgbXhHMjsKICAgIG14QiA9IG14QiArIG14QjI7CgogICAgZmxvYXQgcmNwTVIgPSByY3AobXhSKTsKICAgIGZsb2F0IHJjcE1HID0gcmNwKG14Ryk7CiAgICBmbG9hdCByY3BNQiA9IHJjcChteEIpOwoKICAgIGZsb2F0IGFtcFIgPSBzYXR1cmF0ZShtaW4obW5SLCAyIC0gbXhSKSAqIHJjcE1SKTsKICAgIGZsb2F0IGFtcEcgPSBzYXR1cmF0ZShtaW4obW5HLCAyIC0gbXhHKSAqIHJjcE1HKTsKICAgIGZsb2F0IGFtcEIgPSBzYXR1cmF0ZShtaW4obW5CLCAyIC0gbXhCKSAqIHJjcE1CKTsKCiAgICBhbXBSID0gc3FydChhbXBSKTsKICAgIGFtcEcgPSBzcXJ0KGFtcEcpOwogICAgYW1wQiA9IHNxcnQoYW1wQik7CgogICAgZmxvYXQgcGVhayA9IC1yY3AobWl4KDgsIDUsIHN0cmVuZ3RoKSk7CgogICAgZmxvYXQgd1IgPSBhbXBSICogcGVhazsKICAgIGZsb2F0IHdHID0gYW1wRyAqIHBlYWs7CiAgICBmbG9hdCB3QiA9IGFtcEIgKiBwZWFrOwoKICAgIGZsb2F0IHJjcFdlaWdodFIgPSByY3AoMSArIDQgKiB3Uik7CiAgICBmbG9hdCByY3BXZWlnaHRHID0gcmNwKDEgKyA0ICogd0cpOwogICAgZmxvYXQgcmNwV2VpZ2h0QiA9IHJjcCgxICsgNCAqIHdCKTsKCiAgICByZXR1cm4gZmxvYXQzKAogICAgICAgIHNhdHVyYXRlKChiLnIgKiB3UiArIGQuciAqIHdSICsgZi5yICogd1IgKyBoLnIgKiB3UiArIGUucikgKiByY3BXZWlnaHRSKSwKICAgICAgICBzYXR1cmF0ZSgoYi5nICogd0cgKyBkLmcgKiB3RyArIGYuZyAqIHdHICsgaC5nICogd0cgKyBlLmcpICogcmNwV2VpZ2h0RyksCiAgICAgICAgc2F0dXJhdGUoKGIuYiAqIHdCICsgZC5iICogd0IgKyBmLmIgKiB3QiArIGguYiAqIHdCICsgZS5iKSAqIHJjcFdlaWdodEIpKTsKfQoKCmZsb2F0NCBtYWluKGZsb2F0MiB4eSkgewoKICAgIGZsb2F0NCBvcmlnaW5hbENvbG9yID0gaUNodW5rLmV2YWwoeHkpOwogICAgaWYgKG9yaWdpbmFsQ29sb3IuYSA8IDEpIHsKICAgICAgICByZXR1cm4gaUNodW5rLmV2YWwoeHkpOwogICAgfQoKICAgIGZsb2F0IGludGVuc2l0eSA9IGlBcmdzWzBdOwogICAgZmxvYXQgc3RyZW5ndGggPSAwOwogICAgZmxvYXQzIGNvbG9yOwoKICAgIGlmIChpbnRlbnNpdHkgPCBWX01JTiArIEVQU0lPTikgewogICAgICAgIHN0cmVuZ3RoID0gMC4xMDsKICAgICAgICBjb2xvciA9IFJHWDMoeHksIHN0cmVuZ3RoKTsKCiAgICB9IGVsc2UgaWYgKGludGVuc2l0eSA+IFZfTE9XIC0gRVBTSU9OICYmIGludGVuc2l0eSA8IFZfTE9XICsgRVBTSU9OKSB7CiAgICAgICAgc3RyZW5ndGggPSAwLjMzOwogICAgICAgIGNvbG9yID0gUkdYMyh4eSwgc3RyZW5ndGgpOwoKICAgIH0gZWxzZSBpZiAoaW50ZW5zaXR5ID4gVl9NRUQgLSBFUFNJT04gJiYgaW50ZW5zaXR5IDwgVl9NRUQgKyBFUFNJT04pIHsKICAgICAgICBzdHJlbmd0aCA9IDAuNTsKICAgICAgICBjb2xvciA9IFJHWDMoeHksIHN0cmVuZ3RoKTsKCiAgICB9IGVsc2UgaWYgKGludGVuc2l0eSA+IFZfSElHSCAtIEVQU0lPTiAmJiBpbnRlbnNpdHkgPCBWX0hJR0ggKyBFUFNJT04pIHsKICAgICAgICBzdHJlbmd0aCA9IDAuOTk7CiAgICAgICAgY29sb3IgPSBSR1gzKHh5LCBzdHJlbmd0aCk7CgogICAgfSBlbHNlIGlmIChpbnRlbnNpdHkgPiBWX01BWCAtIEVQU0lPTikgewogICAgICAgIHN0cmVuZ3RoID0gMTsKICAgICAgICBjb2xvciA9IFJHWDIoeHkpLnJnYjsKICAgIH0KCiAgICByZXR1cm4gZmxvYXQ0KGNvbG9yLCBvcmlnaW5hbENvbG9yLmEpOwp9) -opera-args(1.00 calc(env(-opera-accent-color-r, 255)/255) calc(env(-opera-accent-color-g, 255)/255) calc(env(-opera-accent-color-b, 255)/255)));
  }
</style><style>
        /* Design System and Base Styles */
        :root {
            --color-primary: #6B46C1;
            --color-primary-hover: #553C9A;
            --color-secondary: #D4AF37;
            --color-background: #1a1a2e;
            --color-surface: #16213e;
            --color-surface-light: #1f2937;
            --color-text: #ffffff;
            --color-text-secondary: #e0e0e0;
            --color-accent: #00d4ff;
            --color-accent-hover: #00b8e6;
            --color-error: #EF4444;
            --color-success: #10B981;
            --color-warning: #F59E0B;
            --color-border: #374151;
            --color-border-light: #4B5563;
            
            --font-family-base: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --font-size-base: 16px;
            --font-size-sm: 14px;
            --font-size-lg: 18px;
            --font-size-xl: 24px;
            --font-size-2xl: 32px;
            
            --space-1: 4px;
            --space-2: 8px;
            --space-3: 12px;
            --space-4: 16px;
            --space-5: 20px;
            --space-6: 24px;
            --space-8: 32px;
            --space-10: 40px;
            --space-12: 48px;
            
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-magical: 0 0 20px rgba(107, 70, 193, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-family-base);
            font-size: var(--font-size-base);
            line-height: 1.6;
            color: var(--color-text);
            background: linear-gradient(135deg, var(--color-background) 0%, #0f0f23 100%);
            min-height: 100vh;
        }
        
        /* Navigation */
        .navbar {
            background: rgba(22, 33, 62, 0.95);
            backdrop-filter: blur(10px);
            padding: var(--space-4) 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--color-border);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 var(--space-4);
        }
        
        .logo {
            font-size: var(--font-size-xl);
            font-weight: bold;
            color: var(--color-secondary);
            text-decoration: none;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }
        
        .nav-links {
            display: flex;
            gap: var(--space-6);
            list-style: none;
        }
        
        .nav-links a {
            color: var(--color-text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
            cursor: pointer;
        }
        
        .nav-links a:hover {
            color: var(--color-accent);
        }
        
        /* Hamburger Menu Styles */
        .hamburger-menu {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            background: transparent;
            border: none;
            cursor: pointer;
            z-index: 1001;
        }
        
        .hamburger-line {
            width: 24px;
            height: 2px;
            background: var(--color-text);
            margin: 2px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }
        
        .hamburger-menu.open .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .hamburger-menu.open .hamburger-line:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger-menu.open .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        /* Sidebar Styles */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .mobile-sidebar {
            position: fixed;
            top: 0;
            right: -280px;
            width: 280px;
            height: 100vh;
            background: rgba(26, 26, 46, 0.98);
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: right 0.3s ease;
            padding: var(--space-8) var(--space-6);
            overflow-y: auto;
        }
        
        .mobile-sidebar.active {
            right: 0;
        }
        
        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-8);
            padding-bottom: var(--space-4);
            border-bottom: 1px solid var(--color-border);
        }
        
        .sidebar-title {
            color: var(--color-secondary);
            font-size: var(--font-size-lg);
            font-weight: 600;
        }
        
        .sidebar-close {
            background: transparent;
            border: none;
            color: var(--color-text);
            font-size: 24px;
            cursor: pointer;
            padding: var(--space-2);
            border-radius: var(--radius-sm);
            transition: background 0.3s ease;
        }
        
        .sidebar-close:hover {
            background: var(--color-surface-light);
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .sidebar-menu li {
            margin-bottom: var(--space-3);
        }
        
        .sidebar-menu a {
            display: block;
            padding: var(--space-4);
            color: var(--color-text-secondary);
            text-decoration: none;
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: var(--font-size-base);
            min-height: 50px;
            display: flex;
            align-items: center;
        }
        
        .sidebar-menu a:hover {
            background: var(--color-surface-light);
            color: var(--color-accent);
        }
        
        /* Login Modal Styles */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1002;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .login-modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: var(--color-surface);
            padding: var(--space-8);
            border-radius: var(--radius-xl);
            border: 1px solid var(--color-border);
            max-width: 500px;
            width: 90%;
            text-align: center;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .login-modal.show .modal-content {
            transform: translateY(0);
        }
        
        .modal-close {
            position: absolute;
            top: var(--space-4);
            right: var(--space-4);
            background: transparent;
            border: none;
            color: var(--color-text-secondary);
            font-size: 24px;
            cursor: pointer;
            padding: var(--space-2);
            border-radius: var(--radius-sm);
            transition: color 0.3s ease;
        }
        
        .modal-close:hover {
            color: var(--color-text);
        }
        
        .modal-title {
            color: var(--color-secondary);
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-6);
        }
        
        .modal-buttons {
            display: flex;
            gap: var(--space-4);
            margin-top: var(--space-6);
        }
        
        .modal-buttons .btn {
            flex: 1;
        }
        
        /* Google Button Styles */
        .google-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-6);
            background: #ffffff;
            color: #444444;
            border: 1px solid #dadce0;
            border-radius: var(--radius-md);
            font-size: var(--font-size-base);
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
        }
        
        .google-btn:hover {
            background: #f8f9fa;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            color: #444444;
        }
        
        .google-icon {
            width: 18px;
            height: 18px;
            background: linear-gradient(45deg, #4285f4, #34a853, #fbbc05, #ea4335);
            border-radius: 2px;
            position: relative;
            overflow: hidden;
        }
        
        .google-icon::before {
            content: 'G';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
        
        .divider {
            display: flex;
            align-items: center;
            margin: var(--space-6) 0;
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
        }
        
        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--color-border);
        }
        
        .divider::before {
            margin-right: var(--space-4);
        }
        
        .divider::after {
            margin-left: var(--space-4);
        }
        
        /* Main Content */
        .main-content {
            margin-top: 80px;
            min-height: calc(100vh - 80px);
            padding: var(--space-6);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Page Sections */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            padding: var(--space-12) var(--space-4);
            background: radial-gradient(circle at center, rgba(107, 70, 193, 0.1) 0%, transparent 50%);
        }
        
        .hero h1 {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: var(--space-4);
            background: linear-gradient(45deg, var(--color-secondary), var(--color-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }
        
        .hero p {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-8);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-buttons {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-3) var(--space-6);
            border: none;
            border-radius: var(--radius-lg);
            font-size: var(--font-size-base);
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));
            color: var(--color-text);
            box-shadow: var(--shadow-md);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg), var(--shadow-magical);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, var(--color-secondary), #B8941F);
            color: var(--color-background);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--color-accent);
            color: var(--color-accent);
        }
        
        .btn-outline:hover {
            background: var(--color-accent);
            color: var(--color-background);
        }
        
        /* Forms */
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            padding: var(--space-8);
            background: var(--color-surface);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--color-border);
        }
        
        .form-title {
            text-align: center;
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-8);
            color: var(--color-secondary);
        }
        
        .form-group {
            margin-bottom: var(--space-5);
        }
        
        .form-label {
            display: block;
            margin-bottom: var(--space-2);
            font-weight: 600;
            color: var(--color-text-secondary);
        }
        
        .form-input {
            width: 100%;
            padding: var(--space-3);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-md);
            background: var(--color-surface-light);
            color: var(--color-text);
            font-size: var(--font-size-base);
            transition: border-color 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--color-accent);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }
        
        .form-select {
            width: 100%;
            padding: var(--space-3);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-md);
            background: var(--color-surface-light);
            color: var(--color-text);
            font-size: var(--font-size-base);
            cursor: pointer;
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .radio-group {
            display: flex;
            gap: var(--space-6);
            margin-top: var(--space-2);
        }
        
        .radio-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .radio-item input[type="radio"] {
            accent-color: var(--color-accent);
        }
        
        /* Conditional Fields */
        .seller-fields {
            display: none;
            border-top: 1px solid var(--color-border);
            margin-top: var(--space-5);
            padding-top: var(--space-5);
        }
        
        .seller-fields.show {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Validation Messages */
        .error-message {
            color: var(--color-error);
            font-size: var(--font-size-sm);
            margin-top: var(--space-1);
            display: none;
        }
        
        .success-message {
            color: var(--color-success);
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--color-success);
            padding: var(--space-3);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-4);
            text-align: center;
        }
        
        .error-alert {
            color: var(--color-error);
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--color-error);
            padding: var(--space-3);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-4);
            text-align: center;
        }
        
        /* Dashboard */
        .dashboard-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: var(--space-6);
            min-height: calc(100vh - 140px);
        }
        
        .sidebar {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            border: 1px solid var(--color-border);
            height: fit-content;
        }
        
        .sidebar h3 {
            color: var(--color-secondary);
            margin-bottom: var(--space-4);
            font-size: var(--font-size-lg);
        }
        
        .sidebar-nav {
            list-style: none;
        }
        
        .sidebar-nav li {
            margin-bottom: var(--space-2);
        }
        
        .sidebar-nav a {
            display: block;
            padding: var(--space-3);
            color: var(--color-text-secondary);
            text-decoration: none;
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .sidebar-nav a:hover {
            background: var(--color-surface-light);
            color: var(--color-accent);
        }
        
        .dashboard-content {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-8);
            border: 1px solid var(--color-border);
        }
        
        .welcome-message {
            font-size: var(--font-size-xl);
            color: var(--color-secondary);
            margin-bottom: var(--space-6);
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }
        
        .stat-card {
            background: var(--color-surface-light);
            padding: var(--space-5);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-border);
            text-align: center;
        }
        
        .stat-number {
            font-size: var(--font-size-2xl);
            font-weight: bold;
            color: var(--color-accent);
            display: block;
        }
        
        .stat-label {
            color: var(--color-text-secondary);
            margin-top: var(--space-1);
        }
        
        /* Category Cards */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-6);
        }
        
        .category-card {
            background: var(--color-surface-light);
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-border);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--color-accent);
        }
        
        .category-icon {
            font-size: 3rem;
            margin-bottom: var(--space-3);
        }
        
        .category-title {
            color: var(--color-secondary);
            font-weight: 600;
            margin-bottom: var(--space-2);
        }
        
        /* Responsive */
        @media (min-width: 769px) {
            .hamburger-menu {
                display: none !important;
            }
            
            .nav-links {
                display: flex !important;
            }
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .dashboard-layout {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                display: none !important;
            }
            
            .hamburger-menu {
                display: flex !important;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .product-detail {
                grid-template-columns: 1fr;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-buttons {
                flex-direction: column;
            }
        }
        
        /* Store Page Styles */
        .store-page {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-6);
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
        }
        
        .breadcrumb a {
            color: var(--color-text-secondary);
            text-decoration: none;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .breadcrumb a:hover {
            color: var(--color-accent);
        }
        
        .breadcrumb-separator {
            color: var(--color-border);
        }
        
        .store-header {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .store-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .store-header-content {
            position: relative;
            z-index: 1;
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: var(--space-6);
            align-items: start;
        }
        
        .store-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            border: 3px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        
        .store-info h1 {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-2);
            color: white;
            text-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        
        .store-category {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            background: rgba(255,255,255,0.2);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-full);
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-4);
        }
        
        .store-description {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
            margin-bottom: var(--space-6);
        }
        
        .store-stats {
            display: flex;
            gap: var(--space-6);
            margin-bottom: var(--space-4);
        }
        
        .store-stat {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--font-size-sm);
            color: rgba(255,255,255,0.9);
        }
        
        .store-actions {
            display: flex;
            align-items: center;
        }
        
        .store-contact-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-sm);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .store-contact-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        .store-products-section h2 {
            color: var(--color-secondary);
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-6);
        }
        
        .store-empty-state {
            text-align: center;
            padding: var(--space-12);
            background: var(--color-surface-light);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-border);
        }
        
        .store-empty-state h3 {
            color: var(--color-secondary);
            margin-bottom: var(--space-4);
        }
        
        .product-seller {
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .product-seller:hover {
            color: var(--color-accent);
            text-decoration: underline;
        }
        
        /* Mobile Store Header */
        @media (max-width: 768px) {
            .store-header {
                padding: var(--space-6);
            }
            
            .store-header-content {
                grid-template-columns: 1fr;
                gap: var(--space-4);
                text-align: center;
            }
            
            .store-avatar {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
                margin: 0 auto;
            }
            
            .store-info h1 {
                font-size: var(--font-size-xl);
            }
            
            .store-stats {
                justify-content: center;
                flex-wrap: wrap;
            }
        }
        
        /* Utilities */
        .text-center {
            text-align: center;
        }
        
        .mb-4 {
            margin-bottom: var(--space-4);
        }
        
        .mt-6 {
            margin-top: var(--space-6);
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Product Management Styles */
        .product-form {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--space-6);
            margin-top: var(--space-6);
        }
        
        /* Products Grid - Fixed Overlapping Issue */
        .products-grid {
            display: grid;
            gap: var(--space-6);
            margin-top: var(--space-6);
            margin-bottom: var(--space-8);
        }
        
        /* Mobile (up to 576px) - 2 products per row */
        @media (max-width: 576px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
                padding: 12px;
            }
            
            .product-card {
                padding: 12px;
                min-height: 300px;
                margin-bottom: 20px;
            }
            
            .product-image {
                height: 120px;
                font-size: 2.5rem;
                margin-bottom: 8px;
            }
            
            .product-name {
                font-size: 13px;
            }
            
            .product-description {
                font-size: 11px;
            }
            
            .product-seller {
                font-size: 11px;
            }
            
            .product-price {
                font-size: 16px;
            }
            
            .product-card .btn {
                padding: 8px 12px;
                font-size: var(--font-size-sm);
                height: 38px;
                margin-top: auto;
                position: relative;
                z-index: 1;
            }
        }
        
        /* Tablet (577px to 768px) */
        @media (min-width: 577px) and (max-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 20px;
            }
            
            .product-card {
                padding: 14px;
                min-height: 340px;
                margin-bottom: 24px;
            }
            
            .product-image {
                height: 160px;
                font-size: 3rem;
            }
            
            .product-name {
                font-size: 14px;
            }
            
            .product-description {
                font-size: 12px;
            }
            
            .product-card .btn {
                height: 40px;
                margin-top: auto;
                position: relative;
                z-index: 1;
            }
        }
        
        /* Desktop (769px to 1024px) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 24px;
            }
            
            .product-card {
                padding: 16px;
                min-height: 360px;
                margin-bottom: 24px;
            }
            
            .product-image {
                height: 180px;
                font-size: 3.5rem;
            }
            
            .product-card .btn {
                height: 42px;
                margin-top: auto;
                position: relative;
                z-index: 1;
            }
        }
        
        /* Large Desktop (>1024px) */
        @media (min-width: 1025px) {
            .products-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 24px;
            }
            
            .product-card {
                padding: 16px;
                min-height: 360px;
                margin-bottom: 24px;
            }
            
            .product-image {
                height: 180px;
                font-size: 3.5rem;
            }
            
            .product-card .btn {
                height: 42px;
                margin-top: auto;
                position: relative;
                z-index: 1;
            }
        }
        
        .product-card {
            background: var(--color-surface-light);
            border-radius: var(--radius-lg);
            padding: 16px;
            border: 1px solid var(--color-border);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            min-height: 360px;
            margin-bottom: 24px;
            position: relative;
            overflow: visible;
            z-index: auto;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--color-accent);
        }
        
        .product-image {
            width: 100%;
            height: 180px;
            border-radius: var(--radius-md);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            aspect-ratio: 1 / 1;
            object-fit: cover;
            object-position: center;
        }
        
        .product-name {
            font-size: 15px;
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: 6px;
            line-height: 1.3;
            max-height: 2.6em;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }
        
        .product-seller {
            font-size: 12px;
            color: var(--color-text-secondary);
            margin-bottom: 8px;
            line-height: 1.3;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .product-price {
            font-size: 18px;
            font-weight: bold;
            color: var(--color-success);
            margin-bottom: 4px;
        }
        
        .product-description {
            color: var(--color-text-secondary);
            font-size: 13px;
            margin-bottom: 8px;
            line-height: 1.4;
            max-height: 2.8em;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            flex-grow: 1;
        }
        
        .product-category {
            display: inline-block;
            padding: var(--space-1) var(--space-3);
            background: var(--color-secondary);
            color: var(--color-background);
            border-radius: var(--radius-full);
            font-size: var(--font-size-sm);
            font-weight: 500;
            margin-bottom: var(--space-3);
        }
        
        .product-stock {
            font-size: 12px;
            color: var(--color-text-secondary);
            margin-bottom: 8px;
        }
        
        .product-stock.low {
            color: var(--color-warning);
            font-weight: 600;
        }
        
        .product-stock.out {
            color: var(--color-error);
            font-weight: 600;
        }
        
        .category-filters {
            display: flex;
            gap: var(--space-3);
            margin-bottom: var(--space-8);
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .filter-btn {
            padding: var(--space-2) var(--space-4);
            border: 1px solid var(--color-border);
            background: var(--color-surface);
            color: var(--color-text-secondary);
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: var(--font-size-sm);
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: var(--color-accent);
            color: var(--color-background);
            border-color: var(--color-accent);
        }
        
        .products-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--color-surface-light);
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid var(--color-border);
        }
        
        .products-table th,
        .products-table td {
            padding: var(--space-4);
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }
        
        .products-table th {
            background: var(--color-surface);
            font-weight: 600;
            color: var(--color-secondary);
        }
        
        .action-btn {
            padding: var(--space-1) var(--space-3);
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: var(--font-size-sm);
            margin-right: var(--space-2);
            transition: all 0.3s ease;
        }
        
        .action-btn.delete {
            background: var(--color-error);
            color: white;
        }
        
        .action-btn.delete:hover {
            background: #dc2626;
        }
        
        .search-hero {
            background: radial-gradient(circle at center, rgba(107, 70, 193, 0.1) 0%, transparent 50%);
            padding: var(--space-8) var(--space-4);
            text-align: center;
            margin-bottom: var(--space-8);
        }
        
        .search-hero h1 {
            font-size: 2.5rem;
            margin-bottom: var(--space-4);
            background: linear-gradient(45deg, var(--color-secondary), var(--color-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .search-input {
            max-width: 500px;
            width: 100%;
            padding: var(--space-4);
            font-size: var(--font-size-lg);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-lg);
            background: var(--color-surface);
            color: var(--color-text);
            margin: 0 auto;
        }
        
        .notification {
            position: fixed;
            top: 100px;
            right: var(--space-6);
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: var(--color-success);
            color: white;
        }
        
        .notification.error {
            background: var(--color-error);
            color: white;
        }
        
        .notification.info {
            background: var(--color-accent);
            color: white;
        }
        
        .product-detail {
            max-width: 800px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-8);
            align-items: start;
        }
        
        .product-detail-image {
            width: 100%;
            height: 400px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6rem;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
        }
        
        .product-detail-info h1 {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-4);
            color: var(--color-text);
        }
        
        .product-detail-seller {
            color: var(--color-text-secondary);
            margin-bottom: var(--space-4);
        }
        
        .product-detail-price {
            font-size: 2rem;
            font-weight: bold;
            color: var(--color-success);
            margin-bottom: var(--space-6);
        }
        
        @media (max-width: 768px) {
            .product-detail {
                grid-template-columns: 1fr;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/693c525035ab99aa30ee6df6a6d456e9/1a62e1eb-e79b-4c09-8e21-6e5a7353ee62/index.html#" class="logo" onclick="showPage(&#39;marketplace&#39;)">‚ú® Marketplace de Magia</a>
            <ul class="nav-links">
                <li><a onclick="navigateHome()">Home</a></li>
                <li><a onclick="showPage(&#39;marketplace&#39;)">Explorar Produtos</a></li>
                <li><a onclick="showPage(&#39;carrinho&#39;)" id="cart-nav-link" class="hidden" style="position: relative;">üõí Carrinho <span id="cart-badge" style="position: absolute; top: -8px; right: -8px; background: rgb(255, 68, 68); color: white; border-radius: 50%; font-size: 12px; font-weight: bold; min-width: 20px; height: 20px; display: none; align-items: center; justify-content: center; border: 2px solid var(--color-background);">0</span></a></li>
                <li><a onclick="showPage(&#39;login&#39;)" id="nav-login-link" style="display: block;">Login</a></li>
                <li><a onclick="showPage(&#39;registro&#39;)" id="nav-register-link" style="display: block;">Registrar</a></li>
                <li><a onclick="logout()" id="logout-link" class="hidden">Sair</a></li>
            </ul>
            <button class="hamburger-menu" onclick="toggleMobileSidebar()" aria-label="Abrir menu de navega√ß√£o">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </button>
        </div>
    </nav>

    <!-- Mobile Sidebar Overlay -->
    <div class="sidebar-overlay" onclick="closeMobileSidebar()"></div>
    
    <!-- Mobile Sidebar -->
    <div class="mobile-sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">Menu</div>
            <button class="sidebar-close" onclick="closeMobileSidebar()" aria-label="Fechar menu">‚úï</button>
        </div>
        <ul class="sidebar-menu">
            <li><a onclick="navigateHomeFromSidebar()">üè† Home</a></li>
            <li><a onclick="navigateFromSidebar(&#39;marketplace&#39;)">üîç Explorar Produtos</a></li>
            <li><a onclick="navigateFromSidebar(&#39;carrinho&#39;)" id="mobile-cart-link" class="hidden">üõí Carrinho (<span id="mobile-cart-count">0</span>)</a></li>
            <li><a onclick="navigateFromSidebar(&#39;login&#39;)" id="mobile-login-link" style="display: block;">üîë Login</a></li>
            <li><a onclick="navigateFromSidebar(&#39;registro&#39;)" id="mobile-register-link" style="display: block;">üìù Registrar</a></li>
            <li><a onclick="logoutFromSidebar()" id="mobile-logout-link" class="hidden">üö™ Sair</a></li>
        </ul>
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeLoginModal()">‚úï</button>
            <h3 class="modal-title">Fa√ßa login para adicionar produtos ao carrinho</h3>
            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Para continuar com sua compra, voc√™ precisa fazer login ou criar uma conta.</p>
            <div class="modal-buttons">
                <button class="btn" onclick="goToLogin()">Fazer Login</button>
                <button class="btn btn-outline" onclick="goToRegister()">Criar Conta</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Home Page -->
            <section id="home" class="page">
                <div class="hero">
                    <h1>Marketplace de Magia</h1>
                    <p>Descubra um mundo de produtos m√≠sticos e esot√©ricos. Conecte-se com vendedores especializados e encontre tudo o que precisa para sua jornada espiritual.</p>
                    <div class="hero-buttons">
                        <button class="btn btn-secondary" onclick="setUserTypeAndRegister(&#39;vendedor&#39;)">üè™ Registrar como Vendedor</button>
                        <button class="btn" onclick="setUserTypeAndRegister(&#39;cliente&#39;)">üõí Registrar como Cliente</button>
                    </div>
                </div>
            </section>
            
            <!-- Cliente Profile Page -->
            <section id="cliente-profile" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Menu do Cliente</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showPage(&#39;marketplace&#39;)">üîç Explorar Produtos</a></li>
                            <li><a onclick="showDashboardSection(&#39;cliente&#39;, &#39;carrinho&#39;)">üõí Meu Carrinho</a></li>
                            <li><a onclick="showDashboardSection(&#39;cliente&#39;, &#39;pedidos&#39;)">üìã Meus Pedidos</a></li>
                            <li><a onclick="showDashboardSection(&#39;cliente&#39;, &#39;perfil&#39;)">üë§ Perfil</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    
                    <main class="dashboard-content">
                        <div id="cliente-profile-view-mode">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Meu Perfil</h2>
                                <button class="btn" onclick="enterClienteEditMode()">‚úèÔ∏è Editar Perfil</button>
                            </div>
                            
                            <div class="card" style="margin-bottom: var(--space-6);">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label class="form-label">Nome Completo:</label>
                                        <div id="cliente-display-nome" style="font-weight: 600; color: var(--color-text);"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Email:</label>
                                        <div id="cliente-display-email" style="color: var(--color-text-secondary);"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Telefone:</label>
                                        <div id="cliente-display-telefone"></div>
                                    </div>
                                    
                                    <h4 style="color: var(--color-secondary); margin-bottom: var(--space-4); margin-top: var(--space-6);">Endere√ßo</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">CEP:</label>
                                        <div id="cliente-display-cep"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Rua:</label>
                                        <div id="cliente-display-rua"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">N√∫mero:</label>
                                        <div id="cliente-display-numero"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Complemento:</label>
                                        <div id="cliente-display-complemento"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Bairro:</label>
                                        <div id="cliente-display-bairro"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Cidade:</label>
                                        <div id="cliente-display-cidade"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Estado:</label>
                                        <div id="cliente-display-estado"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="cliente-profile-edit-mode" style="display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Editar Perfil</h2>
                            </div>
                            
                            <div id="cliente-profile-edit-messages"></div>
                            
                            <form id="editClienteProfileForm" class="card">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label for="edit-cliente-nome" class="form-label">Nome Completo *</label>
                                        <input type="text" id="edit-cliente-nome" class="form-input" required="">
                                        <div class="error-message" id="edit-cliente-nome-error">Nome √© obrigat√≥rio</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Email (n√£o edit√°vel):</label>
                                        <div id="edit-cliente-display-email" style="color: var(--color-text-secondary); font-style: italic;"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-telefone" class="form-label">Telefone</label>
                                        <input type="tel" id="edit-cliente-telefone" class="form-input" placeholder="(11) 99999-9999">
                                    </div>
                                    
                                    <h4 style="color: var(--color-secondary); margin-bottom: var(--space-4); margin-top: var(--space-6);">Endere√ßo</h4>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-cep" class="form-label">CEP</label>
                                        <input type="text" id="edit-cliente-cep" class="form-input" placeholder="00000-000" oninput="formatCep(this)">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-rua" class="form-label">Rua</label>
                                        <input type="text" id="edit-cliente-rua" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-numero" class="form-label">N√∫mero</label>
                                        <input type="text" id="edit-cliente-numero" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-complemento" class="form-label">Complemento</label>
                                        <input type="text" id="edit-cliente-complemento" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-bairro" class="form-label">Bairro</label>
                                        <input type="text" id="edit-cliente-bairro" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-cidade" class="form-label">Cidade</label>
                                        <input type="text" id="edit-cliente-cidade" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-estado" class="form-label">Estado</label>
                                        <select id="edit-cliente-estado" class="form-select">
                                            <option value="">Selecione um estado</option>
                                            <option value="AC">AC - Acre</option>
                                            <option value="AL">AL - Alagoas</option>
                                            <option value="AP">AP - Amap√°</option>
                                            <option value="AM">AM - Amazonas</option>
                                            <option value="BA">BA - Bahia</option>
                                            <option value="CE">CE - Cear√°</option>
                                            <option value="DF">DF - Distrito Federal</option>
                                            <option value="ES">ES - Esp√≠rito Santo</option>
                                            <option value="GO">GO - Goi√°s</option>
                                            <option value="MA">MA - Maranh√£o</option>
                                            <option value="MT">MT - Mato Grosso</option>
                                            <option value="MS">MS - Mato Grosso do Sul</option>
                                            <option value="MG">MG - Minas Gerais</option>
                                            <option value="PA">PA - Par√°</option>
                                            <option value="PB">PB - Para√≠ba</option>
                                            <option value="PR">PR - Paran√°</option>
                                            <option value="PE">PE - Pernambuco</option>
                                            <option value="PI">PI - Piau√≠</option>
                                            <option value="RJ">RJ - Rio de Janeiro</option>
                                            <option value="RN">RN - Rio Grande do Norte</option>
                                            <option value="RS">RS - Rio Grande do Sul</option>
                                            <option value="RO">RO - Rond√¥nia</option>
                                            <option value="RR">RR - Roraima</option>
                                            <option value="SC">SC - Santa Catarina</option>
                                            <option value="SP">SP - S√£o Paulo</option>
                                            <option value="SE">SE - Sergipe</option>
                                            <option value="TO">TO - Tocantins</option>
                                        </select>
                                    </div>
                                    
                                    <div style="display: flex; gap: var(--space-4); margin-top: var(--space-6);">
                                        <button type="submit" class="btn" style="flex: 1; background: var(--color-success); color: white;">üíæ Salvar Altera√ß√µes</button>
                                        <button type="button" class="btn btn-outline" onclick="cancelClienteEditMode()" style="flex: 1;">‚ùå Cancelar</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </main>
                </div>
            </section>

            <!-- Registration Page -->
            <section id="registro" class="page">
                <div class="form-container">
                    <h2 class="form-title">Criar Conta</h2>
                    
                    <div id="registration-messages"></div>
                    
                    <!-- Google Register Button -->
                    <button type="button" class="google-btn" onclick="handleGoogleRegister()">
                        <div class="google-icon"></div>
                        Registrar com Google
                    </button>
                    
                    <div class="divider">OU</div>
                    
                    <form id="registrationForm">
                        <div class="form-group">
                            <label class="form-label">Tipo de Usu√°rio</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="tipo-cliente" name="tipo" value="cliente" onchange="toggleSellerFields()">
                                    <label for="tipo-cliente">üë§ Cliente</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="tipo-vendedor" name="tipo" value="vendedor" onchange="toggleSellerFields()">
                                    <label for="tipo-vendedor">üè™ Vendedor</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="nome" class="form-label">Nome Completo *</label>
                            <input type="text" id="nome" class="form-input" required="">
                            <div class="error-message" id="nome-error">Nome √© obrigat√≥rio</div>
                        </div>

                        <div class="form-group">
                            <label for="email" class="form-label">Email *</label>
                            <input type="email" id="email" class="form-input" required="" onblur="validateEmail()">
                            <div class="error-message" id="email-error">Por favor, insira um email v√°lido</div>
                        </div>

                        <div class="form-group">
                            <label for="senha" class="form-label">Senha *</label>
                            <input type="password" id="senha" class="form-input" required="" onkeyup="validatePassword()">
                            <div class="error-message" id="senha-error">A senha deve ter pelo menos 8 caracteres</div>
                        </div>

                        <div class="form-group">
                            <label for="confirmar-senha" class="form-label">Confirmar Senha *</label>
                            <input type="password" id="confirmar-senha" class="form-input" required="" onkeyup="validatePasswordMatch()">
                            <div class="error-message" id="confirmar-senha-error">As senhas n√£o coincidem</div>
                        </div>

                        <div class="form-group">
                            <label for="telefone" class="form-label">Telefone</label>
                            <input type="tel" id="telefone" class="form-input">
                        </div>

                        <!-- Seller-specific fields -->
                        <div id="seller-fields" class="seller-fields">
                            <div class="form-group">
                                <label for="nome-loja" class="form-label">Nome da Loja *</label>
                                <input type="text" id="nome-loja" class="form-input">
                                <div class="error-message" id="nome-loja-error">Nome da loja √© obrigat√≥rio para vendedores</div>
                            </div>

                            <div class="form-group">
                                <label for="cpf-cnpj" class="form-label">CPF/CNPJ</label>
                                <input type="text" id="cpf-cnpj" class="form-input" placeholder="000.000.000-00 ou 00.000.000/0000-00" oninput="formatCpfCnpj(this)" onblur="validateCpfCnpjField()">
                                <div style="font-size: var(--font-size-sm); color: var(--color-text-secondary); margin-top: var(--space-1);">Aceita CPF (pessoa f√≠sica) ou CNPJ (pessoa jur√≠dica)</div>
                                <div class="error-message" id="cpf-cnpj-error">CPF deve ter 11 d√≠gitos ou CNPJ deve ter 14 d√≠gitos</div>
                            </div>

                            <div class="form-group">
                                <label for="categoria" class="form-label">Categoria de Produtos *</label>
                                <select id="categoria" class="form-select">
                                    <option value="">Selecione uma categoria</option>
                                    <option value="Cristais e Pedras">üîÆ Cristais e Pedras</option>
                                    <option value="Tar√¥ e Or√°culos">üÉè Tar√¥ e Or√°culos</option>
                                    <option value="Incensos e Velas">üïØÔ∏è Incensos e Velas</option>
                                    <option value="Amuletos e Talism√£s">üßø Amuletos e Talism√£s</option>
                                    <option value="Livros Esot√©ricos">üìö Livros Esot√©ricos</option>
                                    <option value="Outros">‚ú® Outros</option>
                                </select>
                                <div class="error-message" id="categoria-error">Categoria √© obrigat√≥ria para vendedores</div>
                            </div>

                            <div class="form-group">
                                <label for="descricao-loja" class="form-label">Descri√ß√£o da Loja</label>
                                <textarea id="descricao-loja" class="form-input form-textarea" placeholder="Conte sobre sua loja e produtos..."></textarea>
                            </div>
                        </div>

                        <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">Criar Conta</button>
                    </form>

                    <p class="text-center mt-6">
                        J√° tem uma conta? <a href="https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/693c525035ab99aa30ee6df6a6d456e9/1a62e1eb-e79b-4c09-8e21-6e5a7353ee62/index.html#" onclick="showPage(&#39;login&#39;)" style="color: var(--color-accent);">Fa√ßa login</a>
                    </p>
                </div>
            </section>

            <!-- Login Page -->
            <section id="login" class="page">
                <div class="form-container">
                    <h2 class="form-title">Entrar</h2>
                    
                    <div id="login-messages"></div>
                    
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="login-email" class="form-label">Email</label>
                            <input type="email" id="login-email" class="form-input" required="">
                        </div>

                        <div class="form-group">
                            <label for="login-senha" class="form-label">Senha</label>
                            <input type="password" id="login-senha" class="form-input" required="">
                        </div>

                        <div class="form-group">
                            <div class="radio-item">
                                <input type="checkbox" id="lembrar-me">
                                <label for="lembrar-me">Lembrar-me</label>
                            </div>
                        </div>

                        <button type="submit" class="btn" style="width: 100%;">Entrar</button>
                    </form>
                    
                    <div class="divider">OU</div>
                    
                    <!-- Google Login Button -->
                    <button type="button" class="google-btn" onclick="handleGoogleLogin()">
                        <div class="google-icon"></div>
                        Entrar com Google
                    </button>

                    <p class="text-center mt-6">
                        <a href="https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/693c525035ab99aa30ee6df6a6d456e9/1a62e1eb-e79b-4c09-8e21-6e5a7353ee62/index.html#" style="color: var(--color-accent);">Esqueci minha senha</a>
                    </p>

                    <p class="text-center mt-6">
                        N√£o tem uma conta? <a href="https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/693c525035ab99aa30ee6df6a6d456e9/1a62e1eb-e79b-4c09-8e21-6e5a7353ee62/index.html#" onclick="showPage(&#39;registro&#39;)" style="color: var(--color-accent);">Registre-se</a>
                    </p>
                </div>
            </section>

            <!-- Seller Dashboard -->
            <section id="dashboard-vendedor" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Painel do Vendedor</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;produtos&#39;)">üì¶ Meus Produtos</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;adicionar&#39;)">‚ûï Adicionar Produto</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;pedidos&#39;)">üìã Pedidos</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;perfil&#39;)">üè™ Perfil da Loja</a></li>
                            <li><a onclick="showMyStore()">üëÅÔ∏è Ver Minha Loja</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    
                    <main class="dashboard-content">
                        <div id="vendedor-overview">
                            <h2 class="welcome-message">Bem-vindo, <span id="seller-name"></span>!</h2>
                            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-8);">Gerencie sua loja <strong id="store-name"></strong> e acompanhe suas vendas.</p>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <span class="stat-number">0</span>
                                    <div class="stat-label">Total de Produtos</div>
                                </div>
                                <div class="stat-card">
                                    <span class="stat-number">R$ 0,00</span>
                                    <div class="stat-label">Vendas do M√™s</div>
                                </div>
                                <div class="stat-card">
                                    <span class="stat-number">0</span>
                                    <div class="stat-label">Pedidos Pendentes</div>
                                </div>
                            </div>
                            
                            <div class="text-center" style="padding: var(--space-8); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                                <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Voc√™ ainda n√£o tem produtos cadastrados</h3>
                                <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Comece adicionando seus primeiros produtos m√≠sticos para come√ßar a vender!</p>
                                <button class="btn" onclick="showDashboardSection(&#39;vendedor&#39;, &#39;adicionar&#39;)">‚ûï Adicionar Novo Produto</button>
                            </div>
                        </div>
                    </main>
                </div>
            </section>

            <!-- Marketplace/Vitrine Page -->
            <section id="marketplace" class="page active">
                <div class="search-hero">
                    <h1>Marketplace M√≠stico</h1>
                    <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Descubra produtos m√≠sticos e espirituais √∫nicos</p>
                    <input type="text" id="search-input" class="search-input" placeholder="üîç Busque por produtos, categorias ou lojas..." oninput="filterProducts()">
                </div>
                
                <div class="category-filters">
                    <button class="filter-btn active" onclick="filterByCategory(&#39;Todos&#39;)">Todos</button>
                    <button class="filter-btn" onclick="filterByCategory(&#39;Cristais e Pedras&#39;)">üîÆ Cristais e Pedras</button>
                    <button class="filter-btn" onclick="filterByCategory(&#39;Tar√¥ e Or√°culos&#39;)">üÉè Tar√¥ e Or√°culos</button>
                    <button class="filter-btn" onclick="filterByCategory(&#39;Incensos e Velas&#39;)">üïØÔ∏è Incensos e Velas</button>
                    <button class="filter-btn" onclick="filterByCategory(&#39;Amuletos e Talism√£s&#39;)">üßø Amuletos</button>
                    <button class="filter-btn" onclick="filterByCategory(&#39;Livros Esot√©ricos&#39;)">üìö Livros</button>
                    <button class="filter-btn" onclick="filterByCategory(&#39;Servi√ßos M√≠sticos&#39;)">‚ú® Servi√ßos</button>
                    <button class="filter-btn" onclick="filterByCategory(&#39;Outros&#39;)">üåü Outros</button>
                </div>
                
                <div id="products-grid" class="products-grid">
                    <div class="product-card" onclick="showProductDetail(1729623000000)">
                        <div class="product-image">üÉè</div>
                        <div class="product-category">Tar√¥ e Or√°culos</div>
                        <div class="product-name">Tiragem de 5 Cartas</div>
                        <div class="product-seller" onclick="event.stopPropagation(); navigateToStore(&#39;test_seller_1&#39;)">Vendido por: Tarot M√≠stico</div>
                        <div class="product-price">R$ 15,00</div>
                        <div class="product-description">A tiragem √© utilizada para ajudar em assuntos financeiros</div>
                        <div class="product-stock ">50 unidades dispon√≠veis</div>
                        <button class="btn btn-add-to-cart" onclick="event.stopPropagation(); addToCart(1729623000000)">üõí Adicionar ao Carrinho</button>
                    </div>
                
                    <div class="product-card" onclick="showProductDetail(1729623001000)">
                        <div class="product-image">üîÆ</div>
                        <div class="product-category">Cristais e Pedras</div>
                        <div class="product-name">Raiz Kumbaya</div>
                        <div class="product-seller" onclick="event.stopPropagation(); navigateToStore(&#39;test_seller_2&#39;)">Vendido por: Ervas &amp; Ra√≠zes</div>
                        <div class="product-price">R$ 25,00</div>
                        <div class="product-description">Raiz do sono vem para te auxiliar no stress do dia dia, prom...</div>
                        <div class="product-stock ">30 unidades dispon√≠veis</div>
                        <button class="btn btn-add-to-cart" onclick="event.stopPropagation(); addToCart(1729623001000)">üõí Adicionar ao Carrinho</button>
                    </div>
                
                    <div class="product-card" onclick="showProductDetail(1729623002000)">
                        <div class="product-image">üÉè</div>
                        <div class="product-category">Tar√¥ e Or√°culos</div>
                        <div class="product-name">Consulta de Tar√¥ Completa</div>
                        <div class="product-seller" onclick="event.stopPropagation(); navigateToStore(&#39;test_seller_1&#39;)">Vendido por: Tarot M√≠stico</div>
                        <div class="product-price">R$ 80,00</div>
                        <div class="product-description">Consulta completa de tar√¥ com an√°lise detalhada do passado, ...</div>
                        <div class="product-stock ">10 unidades dispon√≠veis</div>
                        <button class="btn btn-add-to-cart" onclick="event.stopPropagation(); addToCart(1729623002000)">üõí Adicionar ao Carrinho</button>
                    </div>
                
                    <div class="product-card" onclick="showProductDetail(1729623003000)">
                        <div class="product-image">üîÆ</div>
                        <div class="product-category">Cristais e Pedras</div>
                        <div class="product-name">Cristal de Ametista</div>
                        <div class="product-seller" onclick="event.stopPropagation(); navigateToStore(&#39;test_seller_2&#39;)">Vendido por: Ervas &amp; Ra√≠zes</div>
                        <div class="product-price">R$ 45,00</div>
                        <div class="product-description">Cristal de ametista natural para medita√ß√£o e harmoniza√ß√£o do...</div>
                        <div class="product-stock ">15 unidades dispon√≠veis</div>
                        <button class="btn btn-add-to-cart" onclick="event.stopPropagation(); addToCart(1729623003000)">üõí Adicionar ao Carrinho</button>
                    </div>
                
                    <div class="product-card" onclick="showProductDetail(1729623004000)">
                        <div class="product-image">üÉè</div>
                        <div class="product-category">Tar√¥ e Or√°culos</div>
                        <div class="product-name">Baralho de Tar√¥ Rider-Waite</div>
                        <div class="product-seller" onclick="event.stopPropagation(); navigateToStore(&#39;test_seller_1&#39;)">Vendido por: Tarot M√≠stico</div>
                        <div class="product-price">R$ 60,00</div>
                        <div class="product-description">Baralho cl√°ssico Rider-Waite em portugu√™s. Perfeito para ini...</div>
                        <div class="product-stock ">25 unidades dispon√≠veis</div>
                        <button class="btn btn-add-to-cart" onclick="event.stopPropagation(); addToCart(1729623004000)">üõí Adicionar ao Carrinho</button>
                    </div>
                </div>
                
                <div id="no-products" class="text-center" style="display: none; padding: var(--space-8); color: var(--color-text-secondary);">
                    <h3>Nenhum produto encontrado</h3>
                    <p>Tente ajustar seus filtros de busca.</p>
                </div>
            </section>
            
            <!-- Product Detail Page -->
            <section id="product-detail" class="page">
                <div id="product-detail-content">
                    <!-- Product details will be loaded here -->
                </div>
            </section>
            
            <!-- Add Product Page -->
            <section id="add-product" class="page">
                <div class="form-container product-form">
                    <h2 class="form-title">Adicionar Produto</h2>
                    
                    <div id="add-product-messages"></div>
                    
                    <form id="addProductForm">
                        <div class="form-group">
                            <label for="product-name" class="form-label">Nome do Produto *</label>
                            <input type="text" id="product-name" class="form-input" required="">
                            <div class="error-message" id="product-name-error">Nome do produto √© obrigat√≥rio</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="product-category" class="form-label">Categoria *</label>
                            <select id="product-category" class="form-select" required="">
                                <option value="">Selecione uma categoria</option>
                                <option value="Cristais e Pedras">üîÆ Cristais e Pedras</option>
                                <option value="Tar√¥ e Or√°culos">üÉè Tar√¥ e Or√°culos</option>
                                <option value="Incensos e Velas">üïØÔ∏è Incensos e Velas</option>
                                <option value="Amuletos e Talism√£s">üßø Amuletos e Talism√£s</option>
                                <option value="Livros Esot√©ricos">üìö Livros Esot√©ricos</option>
                                <option value="Servi√ßos M√≠sticos">‚ú® Servi√ßos M√≠sticos</option>
                                <option value="Outros">üåü Outros</option>
                            </select>
                            <div class="error-message" id="product-category-error">Categoria √© obrigat√≥ria</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="product-description" class="form-label">Descri√ß√£o *</label>
                            <textarea id="product-description" class="form-input form-textarea" rows="4" required="" placeholder="Descreva seu produto, seus benef√≠cios e como pode ajudar o cliente..."></textarea>
                            <div class="error-message" id="product-description-error">Descri√ß√£o √© obrigat√≥ria</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="product-price" class="form-label">Pre√ßo (R$) *</label>
                            <input type="number" id="product-price" class="form-input" step="0.01" min="0" required="" placeholder="0.00">
                            <div class="error-message" id="product-price-error">Pre√ßo √© obrigat√≥rio</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="product-stock" class="form-label">Estoque *</label>
                            <input type="number" id="product-stock" class="form-input" min="0" required="" placeholder="0">
                            <div class="error-message" id="product-stock-error">Estoque √© obrigat√≥rio</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="product-image" class="form-label">URL da Imagem</label>
                            <input type="url" id="product-image" class="form-input" placeholder="https://exemplo.com/imagem.jpg">
                        </div>
                        
                        <div class="form-group">
                            <div class="radio-item">
                                <input type="checkbox" id="product-published" checked="">
                                <label for="product-published">Publicar produto imediatamente</label>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: var(--space-4);">
                            <button type="submit" class="btn" style="flex: 1;">Salvar Produto</button>
                            <button type="button" class="btn btn-outline" onclick="cancelAddProduct()" style="flex: 1;">Cancelar</button>
                        </div>
                    </form>
                </div>
            </section>
            
            <!-- Seller Products Page -->
            <section id="seller-products" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Painel do Vendedor</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;produtos&#39;)">üì¶ Meus Produtos</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;adicionar&#39;)">‚ûï Adicionar Produto</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;pedidos&#39;)">üìã Pedidos</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;perfil&#39;)">üè™ Perfil da Loja</a></li>
                            <li><a onclick="showMyStore()">üëÅÔ∏è Ver Minha Loja</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    
                    <main class="dashboard-content">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                            <h2>Meus Produtos</h2>
                            <button class="btn" onclick="showDashboardSection(&#39;vendedor&#39;, &#39;adicionar&#39;)">‚ûï Adicionar Produto</button>
                        </div>
                        
                        <div id="seller-products-content">
                            <!-- Content will be loaded here -->
                        </div>
                    </main>
                </div>
            </section>

            <!-- Seller Profile Page -->
            <section id="seller-profile" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Painel do Vendedor</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;produtos&#39;)">üì¶ Meus Produtos</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;adicionar&#39;)">‚ûï Adicionar Produto</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;pedidos&#39;)">üìã Pedidos</a></li>
                            <li><a onclick="showDashboardSection(&#39;vendedor&#39;, &#39;perfil&#39;)">üè™ Perfil da Loja</a></li>
                            <li><a onclick="showMyStore()">üëÅÔ∏è Ver Minha Loja</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    
                    <main class="dashboard-content">
                        <div id="profile-view-mode">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Perfil da Loja</h2>
                                <button class="btn" onclick="enterEditMode()">‚úèÔ∏è Editar Perfil</button>
                            </div>
                            
                            <div class="card" style="margin-bottom: var(--space-6);">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label class="form-label">Nome da Loja:</label>
                                        <div id="display-nome-loja" style="font-weight: 600; color: var(--color-text);"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Descri√ß√£o:</label>
                                        <div id="display-descricao-loja" style="color: var(--color-text-secondary);"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Categoria:</label>
                                        <div id="display-categoria"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">CPF/CNPJ:</label>
                                        <div id="display-cpf-cnpj"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Email:</label>
                                        <div id="display-email" style="color: var(--color-text-secondary);"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Total de Produtos:</label>
                                        <div id="display-total-produtos" style="font-weight: 600; color: var(--color-success);"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Meus Produtos</h3>
                            <div id="profile-products-list">
                                <!-- Products will be loaded here -->
                            </div>
                        </div>
                        
                        <div id="profile-edit-mode" style="display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Editar Perfil da Loja</h2>
                            </div>
                            
                            <div id="profile-edit-messages"></div>
                            
                            <form id="editProfileForm" class="card">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label for="edit-nome-loja" class="form-label">Nome da Loja *</label>
                                        <input type="text" id="edit-nome-loja" class="form-input" required="">
                                        <div class="error-message" id="edit-nome-loja-error">Nome da loja √© obrigat√≥rio</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-descricao-loja" class="form-label">Descri√ß√£o da Loja</label>
                                        <textarea id="edit-descricao-loja" class="form-input form-textarea" rows="4" placeholder="Conte sobre sua loja e produtos..."></textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-categoria" class="form-label">Categoria de Produtos *</label>
                                        <select id="edit-categoria" class="form-select" required="">
                                            <option value="">Selecione uma categoria</option>
                                            <option value="Cristais e Pedras">üîÆ Cristais e Pedras</option>
                                            <option value="Tar√¥ e Or√°culos">üÉè Tar√¥ e Or√°culos</option>
                                            <option value="Incensos e Velas">üïØÔ∏è Incensos e Velas</option>
                                            <option value="Amuletos e Talism√£s">üßø Amuletos e Talism√£s</option>
                                            <option value="Livros Esot√©ricos">üìö Livros Esot√©ricos</option>
                                            <option value="Outros">‚ú® Outros</option>
                                        </select>
                                        <div class="error-message" id="edit-categoria-error">Categoria √© obrigat√≥ria</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cpf-cnpj" class="form-label">CPF/CNPJ</label>
                                        <input type="text" id="edit-cpf-cnpj" class="form-input" placeholder="000.000.000-00 ou 00.000.000/0000-00" oninput="formatCpfCnpj(this)" onblur="validateEditCpfCnpjField()">
                                        <div class="error-message" id="edit-cpf-cnpj-error">CPF deve ter 11 d√≠gitos ou CNPJ deve ter 14 d√≠gitos</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Email (n√£o edit√°vel):</label>
                                        <div id="edit-display-email" style="color: var(--color-text-secondary); font-style: italic;"></div>
                                    </div>
                                    
                                    <div style="display: flex; gap: var(--space-4); margin-top: var(--space-6);">
                                        <button type="submit" class="btn" style="flex: 1; background: var(--color-success); color: white;">üíæ Salvar Altera√ß√µes</button>
                                        <button type="button" class="btn btn-outline" onclick="cancelEditMode()" style="flex: 1;">‚ùå Cancelar</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </main>
                </div>
            </section>

            <!-- Customer Dashboard -->
            <section id="dashboard-cliente" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Menu do Cliente</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showPage(&#39;marketplace&#39;)">üîç Explorar Produtos</a></li>
                            <li><a onclick="showDashboardSection(&#39;cliente&#39;, &#39;carrinho&#39;)">üõí Meu Carrinho</a></li>
                            <li><a onclick="showDashboardSection(&#39;cliente&#39;, &#39;pedidos&#39;)">üìã Meus Pedidos</a></li>
                            <li><a onclick="showDashboardSection(&#39;cliente&#39;, &#39;perfil&#39;)">üë§ Perfil</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    
                    <main class="dashboard-content">
                        <div id="cliente-overview">
                            <h2 class="welcome-message">Bem-vindo, <span id="customer-name"></span>!</h2>
                            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-8);">Explore nosso marketplace de produtos m√≠sticos e espirituais.</p>
                            
                            <div style="margin-bottom: var(--space-8);">
                                <input type="text" class="form-input" placeholder="üîç Busque por produtos, categorias ou lojas..." style="font-size: var(--font-size-lg); padding: var(--space-4);">
                            </div>
                            
                            <h3 style="color: var(--color-secondary); margin-bottom: var(--space-6);">Categorias em Destaque</h3>
                            
                            <div class="categories-grid">
                                <div class="category-card" onclick="goToMarketplaceWithCategory(&#39;Cristais e Pedras&#39;)">
                                    <div class="category-icon">üîÆ</div>
                                    <div class="category-title">Cristais e Pedras</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Energia e cura natural</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory(&#39;Tar√¥ e Or√°culos&#39;)">
                                    <div class="category-icon">üÉè</div>
                                    <div class="category-title">Tar√¥ e Or√°culos</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Orienta√ß√£o e autoconhecimento</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory(&#39;Incensos e Velas&#39;)">
                                    <div class="category-icon">üïØÔ∏è</div>
                                    <div class="category-title">Incensos e Velas</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Aromaterapia e rituais</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory(&#39;Amuletos e Talism√£s&#39;)">
                                    <div class="category-icon">üßø</div>
                                    <div class="category-title">Amuletos e Talism√£s</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Prote√ß√£o e sorte</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory(&#39;Livros Esot√©ricos&#39;)">
                                    <div class="category-icon">üìö</div>
                                    <div class="category-title">Livros Esot√©ricos</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Conhecimento m√≠stico</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory(&#39;Outros&#39;)">
                                    <div class="category-icon">‚ú®</div>
                                    <div class="category-title">Outros</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Produtos √∫nicos</p>
                                </div>
                            </div>
                            
                            <div class="text-center mt-6" style="padding: var(--space-8); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                                <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Explore nosso marketplace de produtos m√≠sticos</h3>
                                <p style="color: var(--color-text-secondary);">Descubra vendedores √∫nicos e produtos especiais para sua jornada espiritual.</p>
                            </div>
                        </div>
                    </main>
                </div>
            </section>
            
            <!-- Cart Page -->
            <section id="carrinho" class="page">
                <div class="container">
                    <!-- Breadcrumb -->
                    <nav class="breadcrumb">
                        <a onclick="showPage(&#39;marketplace&#39;)">üè† Home</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <a onclick="showPage(&#39;marketplace&#39;)">Explorar Produtos</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <span>Carrinho</span>
                    </nav>
                    
                    <!-- Cart Header -->
                    <div style="text-align: center; margin-bottom: var(--space-8);">
                        <h1 style="color: var(--color-secondary); margin-bottom: var(--space-2);">Meu Carrinho</h1>
                        <p id="cart-subtitle" style="color: var(--color-text-secondary);">0 itens no carrinho</p>
                    </div>
                    
                    <!-- Cart Content -->
                    <div id="cart-content">
                        <!-- Cart items will be loaded here -->
                    </div>
                    
                    <!-- Empty Cart State -->
                    <div id="empty-cart-state" class="text-center" style="display: none; padding: var(--space-12); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                        <div style="font-size: 4rem; margin-bottom: var(--space-4);">üõí</div>
                        <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Seu carrinho est√° vazio</h3>
                        <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Adicione produtos incr√≠veis do nosso marketplace!</p>
                        <button class="btn" onclick="showPage(&#39;marketplace&#39;)">Explorar Produtos</button>
                    </div>
                </div>
            </section>
            
            <!-- Store Page -->
            <section id="store-page" class="page">
                <div class="store-page">
                    <!-- Breadcrumb Navigation -->
                    <nav class="breadcrumb">
                        <a onclick="showPage(&#39;marketplace&#39;)">üè† Home</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <a onclick="showPage(&#39;marketplace&#39;)">Explorar Produtos</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <span id="store-breadcrumb-name">Loja</span>
                    </nav>
                    
                    <!-- Store Header -->
                    <div class="store-header">
                        <div class="store-header-content">
                            <div class="store-avatar" id="store-avatar"></div>
                            
                            <div class="store-info">
                                <h1 id="store-name-display">Nome da Loja</h1>
                                <div class="store-category">
                                    <span>‚≠ê</span>
                                    <span id="store-category-display">Categoria</span>
                                </div>
                                <div class="store-description" id="store-description-display"></div>
                                
                                <div class="store-stats">
                                    <div class="store-stat">
                                        <span>üì¶</span>
                                        <span><span id="store-products-count">0</span> Produtos</span>
                                    </div>
                                    <div class="store-stat">
                                        <span>üìÖ</span>
                                        <span>Membro desde <span id="store-member-since">Out 2024</span></span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="store-actions">
                                <button class="store-contact-btn" onclick="contactSeller()">
                                    üí¨ Contatar Vendedor
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Store Products Section -->
                    <div class="store-products-section">
                        <h2>Produtos de <span id="store-products-title">Esta Loja</span></h2>
                        
                        <!-- Store Category Filters -->
                        <div class="category-filters" id="store-category-filters">
                            <button class="filter-btn active" onclick="filterStoreByCategory(&#39;Todos&#39;)">Todos</button>
                        </div>
                        
                        <!-- Store Products Grid -->
                        <div id="store-products-grid" class="products-grid">
                            <!-- Store products will be loaded here -->
                        </div>
                        
                        <!-- Empty State -->
                        <div id="store-empty-state" class="store-empty-state" style="display: none;">
                            <h3>Esta loja ainda n√£o tem produtos dispon√≠veis</h3>
                            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Volte em breve para ver novos produtos!</p>
                            <button class="btn btn-outline" onclick="showPage(&#39;marketplace&#39;)">‚Üê Voltar ao Marketplace</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Application State
        let currentUser = null;
        const estadosBrasileiros = [
            { code: 'AC', name: 'Acre' },
            { code: 'AL', name: 'Alagoas' },
            { code: 'AP', name: 'Amap√°' },
            { code: 'AM', name: 'Amazonas' },
            { code: 'BA', name: 'Bahia' },
            { code: 'CE', name: 'Cear√°' },
            { code: 'DF', name: 'Distrito Federal' },
            { code: 'ES', name: 'Esp√≠rito Santo' },
            { code: 'GO', name: 'Goi√°s' },
            { code: 'MA', name: 'Maranh√£o' },
            { code: 'MT', name: 'Mato Grosso' },
            { code: 'MS', name: 'Mato Grosso do Sul' },
            { code: 'MG', name: 'Minas Gerais' },
            { code: 'PA', name: 'Par√°' },
            { code: 'PB', name: 'Para√≠ba' },
            { code: 'PR', name: 'Paran√°' },
            { code: 'PE', name: 'Pernambuco' },
            { code: 'PI', name: 'Piau√≠' },
            { code: 'RJ', name: 'Rio de Janeiro' },
            { code: 'RN', name: 'Rio Grande do Norte' },
            { code: 'RS', name: 'Rio Grande do Sul' },
            { code: 'RO', name: 'Rond√¥nia' },
            { code: 'RR', name: 'Roraima' },
            { code: 'SC', name: 'Santa Catarina' },
            { code: 'SP', name: 'S√£o Paulo' },
            { code: 'SE', name: 'Sergipe' },
            { code: 'TO', name: 'Tocantins' }
        ];
        let products = [
            {
                id: 1729623000000,
                vendedorId: 'test_seller_1',
                nomeLoja: 'Tarot M√≠stico',
                nome: 'Tiragem de 5 Cartas',
                categoria: 'Tar√¥ e Or√°culos',
                descricao: 'A tiragem √© utilizada para ajudar em assuntos financeiros',
                preco: 15.00,
                estoque: 50,
                imagemUrl: '',
                publicado: true,
                dataCriacao: 1729623000000
            },
            {
                id: 1729623001000,
                vendedorId: 'test_seller_2',
                nomeLoja: 'Ervas & Ra√≠zes',
                nome: 'Raiz Kumbaya',
                categoria: 'Cristais e Pedras',
                descricao: 'Raiz do sono vem para te auxiliar no stress do dia dia, promovendo relaxamento e tranquilidade natural.',
                preco: 25.00,
                estoque: 30,
                imagemUrl: '',
                publicado: true,
                dataCriacao: 1729623001000
            },
            {
                id: 1729623002000,
                vendedorId: 'test_seller_1',
                nomeLoja: 'Tarot M√≠stico',
                nome: 'Consulta de Tar√¥ Completa',
                categoria: 'Tar√¥ e Or√°culos',
                descricao: 'Consulta completa de tar√¥ com an√°lise detalhada do passado, presente e futuro. Sess√£o de 1 hora via videochamada.',
                preco: 80.00,
                estoque: 10,
                imagemUrl: '',
                publicado: true,
                dataCriacao: 1729623002000
            },
            {
                id: 1729623003000,
                vendedorId: 'test_seller_2',
                nomeLoja: 'Ervas & Ra√≠zes',
                nome: 'Cristal de Ametista',
                categoria: 'Cristais e Pedras',
                descricao: 'Cristal de ametista natural para medita√ß√£o e harmoniza√ß√£o dos chakras. Pedra de alta qualidade.',
                preco: 45.00,
                estoque: 15,
                imagemUrl: '',
                publicado: true,
                dataCriacao: 1729623003000
            },
            {
                id: 1729623004000,
                vendedorId: 'test_seller_1',
                nomeLoja: 'Tarot M√≠stico',
                nome: 'Baralho de Tar√¥ Rider-Waite',
                categoria: 'Tar√¥ e Or√°culos',
                descricao: 'Baralho cl√°ssico Rider-Waite em portugu√™s. Perfeito para iniciantes e praticantes experientes.',
                preco: 60.00,
                estoque: 25,
                imagemUrl: '',
                publicado: true,
                dataCriacao: 1729623004000
            }
        ];
        let shoppingCart = [];
        let currentFilter = 'Todos';
        let users = [
            {
                id: 'test_seller_1',
                tipo: 'vendedor',
                nome: 'Ana M√≠stica',
                email: 'ana@tarotmistico.com',
                senha: '12345678',
                telefone: '(11) 99999-9999',
                nomeLoja: 'Tarot M√≠stico',
                cpf_cnpj: '12345678000190',
                tipo_documento: 'CNPJ',
                categoria: 'Tar√¥ e Or√°culos',
                descricaoLoja: 'Especialista em leituras de tar√¥ com mais de 15 anos de experi√™ncia. Oferecemos consultas personalizadas e produtos aut√™nticos para sua jornada espiritual.'
            },
            {
                id: 'test_seller_2',
                tipo: 'vendedor',
                nome: 'Roberto Herbalista',
                email: 'roberto@ervasraizes.com',
                senha: '12345678',
                telefone: '(11) 88888-8888',
                nomeLoja: 'Ervas & Ra√≠zes',
                cpf_cnpj: '12345678900',
                tipo_documento: 'CPF',
                categoria: 'Cristais e Pedras',
                descricaoLoja: 'Loja especializada em ervas medicinais, cristais e produtos naturais para bem-estar e equil√≠brio energ√©tico. Todos os nossos produtos s√£o cuidadosamente selecionados.'
            },
            {
                id: Date.now() - 250,
                tipo: 'cliente',
                nome: 'Carlos Oliveira',
                email: 'carlos@email.com',
                senha: '12345678',
                telefone: '(11) 77777-7777',
                endereco: {
                    cep: '',
                    rua: '',
                    numero: '',
                    complemento: '',
                    bairro: '',
                    cidade: '',
                    estado: ''
                }
            }
        ];
        
        // Navigation Functions
        function navigateHome() {
            const currentUser = getCurrentUser();
            
            if (!currentUser) {
                // Not logged in ‚Üí public marketplace
                showPage('marketplace');
            } else if (currentUser.tipo === 'vendedor') {
                // Seller ‚Üí Dashboard Vendedor
                showPage('dashboard-vendedor');
            } else if (currentUser.tipo === 'cliente') {
                // Customer ‚Üí Dashboard Cliente
                showPage('dashboard-cliente');
            } else {
                // Fallback to marketplace
                showPage('marketplace');
            }
        }
        
        function getCurrentUser() {
            return currentUser;
        }
        
        function navigateHomeFromSidebar() {
            closeMobileSidebar();
            navigateHome();
        }
        
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show requested page
            document.getElementById(pageId).classList.add('active');
            
            // Clear any messages
            clearMessages();
        }
        
        function setUserTypeAndRegister(userType) {
            showPage('registro');
            
            // Pre-select user type
            if (userType === 'vendedor') {
                document.getElementById('tipo-vendedor').checked = true;
            } else {
                document.getElementById('tipo-cliente').checked = true;
            }
            
            toggleSellerFields();
        }
        
        // Form Functions
        function toggleSellerFields() {
            const isVendedor = document.getElementById('tipo-vendedor').checked;
            const sellerFields = document.getElementById('seller-fields');
            
            if (isVendedor) {
                sellerFields.classList.add('show');
            } else {
                sellerFields.classList.remove('show');
            }
        }
        
        // CPF/CNPJ Formatting and Validation Functions
        function formatCpfCnpj(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length <= 11) {
                // Format as CPF: 000.000.000-00
                value = value.replace(/(\d{3})(\d)/, '$1.$2');
                value = value.replace(/(\d{3})(\d)/, '$1.$2');
                value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            } else {
                // Format as CNPJ: 00.000.000/0000-00
                value = value.replace(/(\d{2})(\d)/, '$1.$2');
                value = value.replace(/(\d{3})(\d)/, '$1.$2');
                value = value.replace(/(\d{3})(\d)/, '$1/$2');
                value = value.replace(/(\d{4})(\d{1,2})$/, '$1-$2');
            }
            
            input.value = value;
        }
        
        function validateCpfCnpj(cpfCnpj) {
            if (!cpfCnpj) return true; // Optional field
            
            const numbers = cpfCnpj.replace(/\D/g, '');
            
            // Check if it's a valid CPF (11 digits) or CNPJ (14 digits)
            if (numbers.length === 11 || numbers.length === 14) {
                return true;
            }
            
            return false;
        }
        
        function getDocumentType(cpfCnpj) {
            if (!cpfCnpj) return null;
            const numbers = cpfCnpj.replace(/\D/g, '');
            if (numbers.length === 11) return 'CPF';
            if (numbers.length === 14) return 'CNPJ';
            return null;
        }
        
        function validateCpfCnpjField() {
            const cpfCnpj = document.getElementById('cpf-cnpj').value.trim();
            const cpfCnpjError = document.getElementById('cpf-cnpj-error');
            
            if (cpfCnpj && !validateCpfCnpj(cpfCnpj)) {
                cpfCnpjError.style.display = 'block';
                return false;
            } else {
                cpfCnpjError.style.display = 'none';
                return true;
            }
        }
        
        // Validation Functions
        function validateEmail() {
            const email = document.getElementById('email').value;
            const emailError = document.getElementById('email-error');
            const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
            
            if (email && !emailPattern.test(email)) {
                emailError.style.display = 'block';
                return false;
            } else {
                emailError.style.display = 'none';
                return true;
            }
        }
        
        function validatePassword() {
            const senha = document.getElementById('senha').value;
            const senhaError = document.getElementById('senha-error');
            
            if (senha && senha.length < 8) {
                senhaError.style.display = 'block';
                return false;
            } else {
                senhaError.style.display = 'none';
                return true;
            }
        }
        
        function validatePasswordMatch() {
            const senha = document.getElementById('senha').value;
            const confirmarSenha = document.getElementById('confirmar-senha').value;
            const confirmarSenhaError = document.getElementById('confirmar-senha-error');
            
            if (confirmarSenha && senha !== confirmarSenha) {
                confirmarSenhaError.style.display = 'block';
                return false;
            } else {
                confirmarSenhaError.style.display = 'none';
                return true;
            }
        }
        
        function checkEmailExists(email) {
            return users.some(user => user.email === email);
        }
        
        function clearMessages() {
            document.getElementById('registration-messages').innerHTML = '';
            document.getElementById('login-messages').innerHTML = '';
        }
        
        function showMessage(containerId, message, isError = false) {
            const container = document.getElementById(containerId);
            const className = isError ? 'error-alert' : 'success-message';
            container.innerHTML = `<div class="${className}">${message}</div>`;
        }
        
        // Registration Form Handler
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const tipo = document.querySelector('input[name="tipo"]:checked')?.value;
            const nome = document.getElementById('nome').value.trim();
            const email = document.getElementById('email').value.trim();
            const senha = document.getElementById('senha').value;
            const confirmarSenha = document.getElementById('confirmar-senha').value;
            const telefone = document.getElementById('telefone').value.trim();
            
            // Clear previous errors
            document.querySelectorAll('.error-message').forEach(error => {
                error.style.display = 'none';
            });
            
            let hasError = false;
            
            // Validate required fields
            if (!tipo) {
                showMessage('registration-messages', 'Por favor, selecione o tipo de usu√°rio.', true);
                return;
            }
            
            if (!nome) {
                document.getElementById('nome-error').style.display = 'block';
                hasError = true;
            }
            
            if (!email) {
                document.getElementById('email-error').textContent = 'Email √© obrigat√≥rio';
                document.getElementById('email-error').style.display = 'block';
                hasError = true;
            } else if (!validateEmail()) {
                hasError = true;
            } else if (checkEmailExists(email)) {
                showMessage('registration-messages', 'Este email j√° est√° cadastrado.', true);
                return;
            }
            
            if (!senha) {
                document.getElementById('senha-error').textContent = 'Senha √© obrigat√≥ria';
                document.getElementById('senha-error').style.display = 'block';
                hasError = true;
            } else if (!validatePassword()) {
                hasError = true;
            }
            
            if (!confirmarSenha) {
                document.getElementById('confirmar-senha-error').textContent = 'Confirma√ß√£o de senha √© obrigat√≥ria';
                document.getElementById('confirmar-senha-error').style.display = 'block';
                hasError = true;
            } else if (!validatePasswordMatch()) {
                hasError = true;
            }
            
            // Validate seller-specific fields
            if (tipo === 'vendedor') {
                const nomeLoja = document.getElementById('nome-loja').value.trim();
                const categoria = document.getElementById('categoria').value;
                const cpfCnpj = document.getElementById('cpf-cnpj').value.trim();
                
                if (!nomeLoja) {
                    document.getElementById('nome-loja-error').style.display = 'block';
                    hasError = true;
                }
                
                if (!categoria) {
                    document.getElementById('categoria-error').style.display = 'block';
                    hasError = true;
                }
                
                if (cpfCnpj && !validateCpfCnpj(cpfCnpj)) {
                    document.getElementById('cpf-cnpj-error').style.display = 'block';
                    hasError = true;
                }
            }
            
            if (hasError) {
                showMessage('registration-messages', 'Por favor, corrija os erros abaixo.', true);
                return;
            }
            
            // Create user object
            const newUser = {
                id: Date.now(),
                tipo,
                nome,
                email,
                senha,
                telefone
            };
            
            // Add endereco for clientes
            if (tipo === 'cliente') {
                newUser.endereco = {
                    cep: '',
                    rua: '',
                    numero: '',
                    complemento: '',
                    bairro: '',
                    cidade: '',
                    estado: ''
                };
            }
            
            // Add seller-specific fields
            if (tipo === 'vendedor') {
                newUser.nomeLoja = document.getElementById('nome-loja').value.trim();
                const cpfCnpjValue = document.getElementById('cpf-cnpj').value.trim();
                newUser.cpf_cnpj = cpfCnpjValue.replace(/\D/g, ''); // Store only numbers
                newUser.tipo_documento = getDocumentType(cpfCnpjValue);
                newUser.categoria = document.getElementById('categoria').value;
                newUser.descricaoLoja = document.getElementById('descricao-loja').value.trim();
            }
            
            // Save user
            users.push(newUser);
            
            // Reset form
            document.getElementById('registrationForm').reset();
            toggleSellerFields();
            
            // Show success and redirect to login
            showPage('login');
            showMessage('login-messages', 'Cadastro realizado com sucesso! Fa√ßa login para continuar.');
        });
        
        // Login Form Handler
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value.trim();
            const senha = document.getElementById('login-senha').value;
            
            // Find user
            const user = users.find(u => u.email === email && u.senha === senha);
            
            if (user) {
                // Set current user
                currentUser = user;
                
                // Update navigation
                updateNavigation();
                
                // Redirect to appropriate dashboard
                if (user.tipo === 'vendedor') {
                    showSellerDashboard(user);
                } else {
                    showCustomerDashboard(user);
                }
            } else {
                showMessage('login-messages', 'Email ou senha incorretos.', true);
            }
        });
        
        // Dashboard Functions
        function showSellerDashboard(user) {
            document.getElementById('seller-name').textContent = user.nome;
            document.getElementById('store-name').textContent = user.nomeLoja;
            showPage('dashboard-vendedor');
            updateSellerOverview();
        }
        
        function showSellerProfile() {
            if (!currentUser || currentUser.tipo !== 'vendedor') return;
            
            showPage('seller-profile');
            loadSellerProfileData();
        }
        
        function loadSellerProfileData() {
            if (!currentUser || currentUser.tipo !== 'vendedor') return;
            
            // Load profile view mode data
            document.getElementById('display-nome-loja').textContent = currentUser.nomeLoja || 'N√£o informado';
            document.getElementById('display-descricao-loja').textContent = currentUser.descricaoLoja || 'Nenhuma descri√ß√£o cadastrada';
            document.getElementById('display-categoria').textContent = currentUser.categoria || 'N√£o informado';
            
            // Format and display CPF/CNPJ
            let cpfCnpjDisplay = 'N√£o informado';
            if (currentUser.cpf_cnpj) {
                const numbers = currentUser.cpf_cnpj.replace(/\D/g, '');
                if (numbers.length === 11) {
                    cpfCnpjDisplay = numbers.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
                } else if (numbers.length === 14) {
                    cpfCnpjDisplay = numbers.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/, '$1.$2.$3/$4-$5');
                } else {
                    cpfCnpjDisplay = currentUser.cpf_cnpj;
                }
            }
            document.getElementById('display-cpf-cnpj').textContent = cpfCnpjDisplay;
            
            document.getElementById('display-email').textContent = currentUser.email;
            
            // Calculate and display total products
            const sellerProducts = products.filter(p => p.vendedorId === currentUser.id.toString());
            const totalProducts = sellerProducts.length;
            document.getElementById('display-total-produtos').textContent = totalProducts;
            
            // Load products list in profile
            loadProfileProductsList(sellerProducts);
        }
        
        function loadProfileProductsList(sellerProducts) {
            const container = document.getElementById('profile-products-list');
            
            if (sellerProducts.length === 0) {
                container.innerHTML = `
                    <div class="text-center" style="padding: var(--space-6); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                        <p style="color: var(--color-text-secondary);">Voc√™ ainda n√£o tem produtos cadastrados.</p>
                        <button class="btn" onclick="showDashboardSection('vendedor', 'adicionar')" style="margin-top: var(--space-4);">‚ûï Adicionar Produto</button>
                    </div>
                `;
                return;
            }
            
            let html = '<div class="products-grid">';
            
            sellerProducts.forEach(product => {
                const icon = getCategoryIcon(product.categoria);
                const stockStatus = getStockStatus(product.estoque);
                
                html += `
                    <div class="product-card" onclick="showProductDetail(${product.id})">
                        <div class="product-image">${icon}</div>
                        <div class="product-category">${product.categoria}</div>
                        <div class="product-name">${product.nome}</div>
                        <div class="product-price">R$ ${product.preco.toFixed(2).replace('.', ',')}</div>
                        <div class="product-description">${product.descricao.length > 60 ? product.descricao.substring(0, 60) + '...' : product.descricao}</div>
                        <div class="product-stock ${stockStatus.class}">${stockStatus.text}</div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        function enterEditMode() {
            if (!currentUser || currentUser.tipo !== 'vendedor') return;
            
            // Hide view mode, show edit mode
            document.getElementById('profile-view-mode').style.display = 'none';
            document.getElementById('profile-edit-mode').style.display = 'block';
            
            // Pre-fill form with current data
            document.getElementById('edit-nome-loja').value = currentUser.nomeLoja || '';
            document.getElementById('edit-descricao-loja').value = currentUser.descricaoLoja || '';
            document.getElementById('edit-categoria').value = currentUser.categoria || '';
            
            // Format CPF/CNPJ for display
            let cpfCnpjFormatted = '';
            if (currentUser.cpf_cnpj) {
                const numbers = currentUser.cpf_cnpj.replace(/\D/g, '');
                if (numbers.length === 11) {
                    cpfCnpjFormatted = numbers.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
                } else if (numbers.length === 14) {
                    cpfCnpjFormatted = numbers.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/, '$1.$2.$3/$4-$5');
                } else {
                    cpfCnpjFormatted = currentUser.cpf_cnpj;
                }
            }
            document.getElementById('edit-cpf-cnpj').value = cpfCnpjFormatted;
            document.getElementById('edit-display-email').textContent = currentUser.email;
            
            // Clear any previous error messages
            document.querySelectorAll('#profile-edit-mode .error-message').forEach(error => {
                error.style.display = 'none';
            });
            document.getElementById('profile-edit-messages').innerHTML = '';
        }
        
        function cancelEditMode() {
            // Show view mode, hide edit mode
            document.getElementById('profile-view-mode').style.display = 'block';
            document.getElementById('profile-edit-mode').style.display = 'none';
            
            // Clear form
            document.getElementById('editProfileForm').reset();
        }
        
        function validateEditCpfCnpjField() {
            const cpfCnpj = document.getElementById('edit-cpf-cnpj').value.trim();
            const cpfCnpjError = document.getElementById('edit-cpf-cnpj-error');
            
            if (cpfCnpj && !validateCpfCnpj(cpfCnpj)) {
                cpfCnpjError.style.display = 'block';
                return false;
            } else {
                cpfCnpjError.style.display = 'none';
                return true;
            }
        }
        
        function showCustomerDashboard(user) {
            document.getElementById('customer-name').textContent = user.nome;
            showPage('dashboard-cliente'); // Show customer dashboard
        }
        
        function showDashboardSection(userType, section) {
            if (userType === 'vendedor') {
                if (section === 'adicionar') {
                    showPage('add-product');
                } else if (section === 'produtos') {
                    showSellerProducts();
                } else if (section === 'perfil') {
                    showSellerProfile();
                } else {
                    showPage('dashboard-vendedor');
                    updateSellerOverview();
                }
            } else if (userType === 'cliente') {
                if (section === 'explorar') {
                    showPage('marketplace');
                } else if (section === 'perfil') {
                    showClienteProfile();
                } else if (section === 'carrinho') {
                    showPage('carrinho');
                } else {
                    showPage('dashboard-cliente');
                }
            }
        }
        
        // Product Management Functions
        function showSellerProducts() {
            showPage('seller-products');
            loadSellerProducts();
        }
        
        function loadSellerProducts() {
            if (!currentUser) return;
            
            const sellerProducts = products.filter(p => p.vendedorId === currentUser.id.toString());
            const container = document.getElementById('seller-products-content');
            
            if (sellerProducts.length === 0) {
                container.innerHTML = `
                    <div class="text-center" style="padding: var(--space-8); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                        <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Voc√™ ainda n√£o tem produtos cadastrados.</h3>
                        <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Adicione seu primeiro produto!</p>
                        <button class="btn" onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Novo Produto</button>
                    </div>
                `;
                return;
            }
            
            let tableHTML = `
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>Produto</th>
                            <th>Categoria</th>
                            <th>Pre√ßo</th>
                            <th>Estoque</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            sellerProducts.forEach(product => {
                const statusBadge = product.publicado ? 
                    '<span style="color: var(--color-success);">‚úÖ Publicado</span>' : 
                    '<span style="color: var(--color-text-secondary);">‚è∏Ô∏è Rascunho</span>';
                
                tableHTML += `
                    <tr>
                        <td>
                            <strong>${product.nome}</strong><br>
                            <small style="color: var(--color-text-secondary);">${product.descricao.substring(0, 50)}...</small>
                        </td>
                        <td>${product.categoria}</td>
                        <td>R$ ${product.preco.toFixed(2).replace('.', ',')}</td>
                        <td>${product.estoque}</td>
                        <td>${statusBadge}</td>
                        <td>
                            <button class="action-btn delete" onclick="deleteProduct(${product.id})">üóëÔ∏è Excluir</button>
                        </td>
                    </tr>
                `;
            });
            
            tableHTML += '</tbody></table>';
            container.innerHTML = tableHTML;
        }
        
        function deleteProduct(productId) {
            if (confirm('Tem certeza que deseja excluir este produto?')) {
                products = products.filter(p => p.id !== productId);
                loadSellerProducts();
                updateSellerStats();
            updateSellerOverview();
                showNotification('Produto removido com sucesso!', 'success');
            }
        }
        
        function updateSellerStats() {
            if (!currentUser || currentUser.tipo !== 'vendedor') return;
            
            const sellerProducts = products.filter(p => p.vendedorId === currentUser.id.toString());
            const totalProducts = sellerProducts.length;
            
            const statsCards = document.querySelectorAll('.stat-number');
            if (statsCards.length > 0) {
                statsCards[0].textContent = totalProducts;
            }
        }
        
        function updateSellerOverview() {
            if (!currentUser || currentUser.tipo !== 'vendedor') return;
            
            const sellerProducts = products.filter(p => p.vendedorId === currentUser.id.toString());
            const totalProducts = sellerProducts.length;
            
            // Update stats cards
            const statsCards = document.querySelectorAll('.stat-number');
            if (statsCards.length > 0) {
                statsCards[0].textContent = totalProducts;
            }
            
            // Update overview content based on products count
            const overviewDiv = document.getElementById('vendedor-overview');
            if (overviewDiv) {
                const existingContent = overviewDiv.querySelector('.text-center');
                if (totalProducts === 0) {
                    // Show "no products" message
                    if (!existingContent) {
                        overviewDiv.innerHTML += `
                            <div class="text-center" style="padding: var(--space-8); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                                <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Voc√™ ainda n√£o tem produtos cadastrados</h3>
                                <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Comece adicionando seus primeiros produtos m√≠sticos para come√ßar a vender!</p>
                                <button class="btn" onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Novo Produto</button>
                            </div>
                        `;
                    }
                } else {
                    // Remove "no products" message if it exists
                    if (existingContent) {
                        existingContent.remove();
                    }
                }
            }
        }
        
        // Edit Profile Form Handler
        document.getElementById('editProfileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!currentUser || currentUser.tipo !== 'vendedor') {
                showMessage('profile-edit-messages', 'Erro: Usu√°rio n√£o autorizado', true);
                return;
            }
            
            const nomeLoja = document.getElementById('edit-nome-loja').value.trim();
            const descricaoLoja = document.getElementById('edit-descricao-loja').value.trim();
            const categoria = document.getElementById('edit-categoria').value;
            const cpfCnpj = document.getElementById('edit-cpf-cnpj').value.trim();
            
            // Clear previous errors
            document.querySelectorAll('#profile-edit-mode .error-message').forEach(error => {
                error.style.display = 'none';
            });
            
            let hasError = false;
            
            // Validate required fields
            if (!nomeLoja) {
                document.getElementById('edit-nome-loja-error').style.display = 'block';
                hasError = true;
            }
            
            if (!categoria) {
                document.getElementById('edit-categoria-error').style.display = 'block';
                hasError = true;
            }
            
            if (cpfCnpj && !validateCpfCnpj(cpfCnpj)) {
                document.getElementById('edit-cpf-cnpj-error').style.display = 'block';
                hasError = true;
            }
            
            if (hasError) {
                showMessage('profile-edit-messages', 'Por favor, corrija os erros abaixo.', true);
                return;
            }
            
            // Update user data
            currentUser.nomeLoja = nomeLoja;
            currentUser.descricaoLoja = descricaoLoja;
            currentUser.categoria = categoria;
            
            if (cpfCnpj) {
                currentUser.cpf_cnpj = cpfCnpj.replace(/\D/g, ''); // Store only numbers
                currentUser.tipo_documento = getDocumentType(cpfCnpj);
            }
            
            // Update all products with new store name
            products.forEach(product => {
                if (product.vendedorId === currentUser.id.toString()) {
                    product.nomeLoja = nomeLoja;
                }
            });
            
            // Update user in users array
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = { ...currentUser };
            }
            
            // Update dashboard display names
            const storeNameElements = document.querySelectorAll('#store-name');
            storeNameElements.forEach(element => {
                element.textContent = nomeLoja;
            });
            
            // Show success message and return to view mode
            showNotification('Perfil atualizado com sucesso!', 'success');
            
            // Reload profile data and return to view mode
            setTimeout(() => {
                loadSellerProfileData();
                cancelEditMode();
            }, 1000);
        });
        
        // Add Product Form Handler
        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!currentUser || currentUser.tipo !== 'vendedor') {
                showNotification('Erro: Usu√°rio n√£o autorizado', 'error');
                return;
            }
            
            const nome = document.getElementById('product-name').value.trim();
            const categoria = document.getElementById('product-category').value;
            const descricao = document.getElementById('product-description').value.trim();
            const preco = parseFloat(document.getElementById('product-price').value);
            const estoque = parseInt(document.getElementById('product-stock').value);
            const imagemUrl = document.getElementById('product-image').value.trim();
            const publicado = document.getElementById('product-published').checked;
            
            // Clear previous errors
            document.querySelectorAll('.error-message').forEach(error => {
                error.style.display = 'none';
            });
            
            let hasError = false;
            
            if (!nome) {
                document.getElementById('product-name-error').style.display = 'block';
                hasError = true;
            }
            
            if (!categoria) {
                document.getElementById('product-category-error').style.display = 'block';
                hasError = true;
            }
            
            if (!descricao) {
                document.getElementById('product-description-error').style.display = 'block';
                hasError = true;
            }
            
            if (isNaN(preco) || preco <= 0) {
                document.getElementById('product-price-error').style.display = 'block';
                hasError = true;
            }
            
            if (isNaN(estoque) || estoque < 0) {
                document.getElementById('product-stock-error').style.display = 'block';
                hasError = true;
            }
            
            if (hasError) {
                showMessage('add-product-messages', 'Por favor, corrija os erros abaixo.', true);
                return;
            }
            
            // Create new product
            const newProduct = {
                id: Date.now(),
                vendedorId: currentUser.id.toString(),
                nomeLoja: currentUser.nomeLoja,
                nome,
                categoria,
                descricao,
                preco,
                estoque,
                imagemUrl,
                publicado,
                dataCriacao: Date.now()
            };
            
            products.push(newProduct);
            
            // Reset form
            document.getElementById('addProductForm').reset();
            document.getElementById('product-published').checked = true;
            
            showNotification('Produto adicionado com sucesso!', 'success');
            updateSellerStats();
            updateSellerOverview();
            
            // Redirect to products list
            setTimeout(() => {
                showSellerProducts();
            }, 1500);
        });
        
        function cancelAddProduct() {
            if (currentUser && currentUser.tipo === 'vendedor') {
                showPage('dashboard-vendedor');
            } else {
                showPage('marketplace');
            }
        }
        
        // Marketplace Functions
        function loadMarketplace() {
            renderProducts();
        }
        
        function renderProducts(filteredProducts = null) {
            const productsToShow = filteredProducts || products.filter(p => p.publicado);
            const container = document.getElementById('products-grid');
            const noProductsDiv = document.getElementById('no-products');
            
            if (productsToShow.length === 0) {
                container.innerHTML = '';
                noProductsDiv.style.display = 'block';
                return;
            }
            
            noProductsDiv.style.display = 'none';
            
            let html = '';
            productsToShow.forEach(product => {
                const icon = getCategoryIcon(product.categoria);
                const stockStatus = getStockStatus(product.estoque);
                
                html += `
                    <div class="product-card" onclick="showProductDetail(${product.id})">
                        <div class="product-image">${icon}</div>
                        <div class="product-category">${product.categoria}</div>
                        <div class="product-name">${product.nome}</div>
                        <div class="product-seller" onclick="event.stopPropagation(); navigateToStore('${product.vendedorId}')">Vendido por: ${product.nomeLoja}</div>
                        <div class="product-price">R$ ${product.preco.toFixed(2).replace('.', ',')}</div>
                        <div class="product-description">${product.descricao.length > 60 ? product.descricao.substring(0, 60) + '...' : product.descricao}</div>
                        <div class="product-stock ${stockStatus.class}">${stockStatus.text}</div>
                        <button class="btn btn-add-to-cart" onclick="event.stopPropagation(); addToCart(${product.id})">üõí Adicionar ao Carrinho</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function getCategoryIcon(category) {
            const icons = {
                'Cristais e Pedras': 'üîÆ',
                'Tar√¥ e Or√°culos': 'üÉè',
                'Incensos e Velas': 'üïØÔ∏è',
                'Amuletos e Talism√£s': 'üßø',
                'Livros Esot√©ricos': 'üìö',
                'Servi√ßos M√≠sticos': '‚ú®',
                'Outros': 'üåü'
            };
            return icons[category] || '‚ú®';
        }
        
        function getStockStatus(estoque) {
            if (estoque === 0) {
                return { text: 'Produto esgotado', class: 'out' };
            } else if (estoque <= 5) {
                return { text: `Estoque baixo! Apenas ${estoque} unidades`, class: 'low' };
            } else {
                return { text: `${estoque} unidades dispon√≠veis`, class: '' };
            }
        }
        
        function filterByCategory(category) {
            currentFilter = category;
            
            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            // Filter products
            let filteredProducts;
            if (category === 'Todos') {
                filteredProducts = products.filter(p => p.publicado);
            } else {
                filteredProducts = products.filter(p => p.publicado && p.categoria === category);
            }
            
            renderProducts(filteredProducts);
        }
        
        function filterProducts() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            
            let filteredProducts = products.filter(p => {
                if (!p.publicado) return false;
                
                const matchesCategory = currentFilter === 'Todos' || p.categoria === currentFilter;
                const matchesSearch = searchTerm === '' || 
                    p.nome.toLowerCase().includes(searchTerm) ||
                    p.descricao.toLowerCase().includes(searchTerm) ||
                    p.nomeLoja.toLowerCase().includes(searchTerm) ||
                    p.categoria.toLowerCase().includes(searchTerm);
                
                return matchesCategory && matchesSearch;
            });
            
            renderProducts(filteredProducts);
        }
        
        function showProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const icon = getCategoryIcon(product.categoria);
            const stockStatus = getStockStatus(product.estoque);
            
            const content = document.getElementById('product-detail-content');
            content.innerHTML = `
                <div class="product-detail">
                    <div class="product-detail-image">${icon}</div>
                    <div class="product-detail-info">
                        <h1>${product.nome}</h1>
                        <div class="product-detail-seller">Vendido por: <strong><a href="javascript:void(0)" onclick="navigateToStore('${product.vendedorId}')" style="color: var(--color-accent); text-decoration: underline;">${product.nomeLoja}</a></strong></div>
                        <div style="margin-bottom: var(--space-4);">
                            <button class="btn btn-outline" onclick="navigateToStore('${product.vendedorId}')" style="font-size: var(--font-size-sm); padding: var(--space-2) var(--space-4);">üëÅÔ∏è Ver Todos os Produtos desta Loja</button>
                        </div>
                        <div class="product-category">${product.categoria}</div>
                        <div class="product-detail-price">R$ ${product.preco.toFixed(2).replace('.', ',')}</div>
                        <div class="product-stock ${stockStatus.class}" style="margin-bottom: var(--space-6);">${stockStatus.text}</div>
                        <div style="color: var(--color-text-secondary); line-height: 1.6; margin-bottom: var(--space-8);">${product.descricao}</div>
                        <div class="product-details-actions" style="display: flex; gap: var(--space-4); flex-wrap: wrap;">
                            <button class="btn btn-outline btn-add-to-cart" onclick="addToCart(${product.id})" ${product.estoque === 0 ? 'disabled' : ''} style="flex: 1; min-width: 200px;">üõí Adicionar ao Carrinho</button>
                            <button class="btn" onclick="comprarAgora(${product.id})" ${product.estoque === 0 ? 'disabled' : ''} style="flex: 1; min-width: 200px; background: var(--color-secondary); color: var(--color-background);">‚ö° Comprar Agora</button>
                        </div>
                        <div style="margin-top: var(--space-4);">
                            <button class="btn btn-outline" onclick="showPage('marketplace')" style="width: 100%;">‚Üê Voltar para Produtos</button>
                        </div>
                        
                        <!-- Mobile responsive styles -->
                        <style>
                            @media (max-width: 768px) {
                                .product-details-actions {
                                    flex-direction: column !important;
                                }
                                .product-details-actions button {
                                    width: 100% !important;
                                    min-width: auto !important;
                                }
                            }
                        </style>
                    </div>
                </div>
            `;
            
            showPage('product-detail');
        }
        
        function addToCart(productId, showNotif = true) {
            // Check if user is logged in
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            const product = products.find(p => p.id === productId);
            if (!product || product.estoque === 0) {
                showNotification('Produto n√£o dispon√≠vel', 'error');
                return;
            }
            
            const existingItem = shoppingCart.find(item => item.produtoId === productId);
            if (existingItem) {
                if (existingItem.quantidade < product.estoque) {
                    existingItem.quantidade++;
                    if (showNotif) showNotification('Produto adicionado ao carrinho!', 'success');
                } else {
                    showNotification('Quantidade m√°xima atingida', 'error');
                }
            } else {
                shoppingCart.push({
                    produtoId: productId,
                    nome: product.nome,
                    preco: product.preco,
                    imagemUrl: product.imagemUrl,
                    nomeLoja: product.nomeLoja,
                    quantidade: 1,
                    vendedorId: product.vendedorId
                });
                if (showNotif) showNotification('Produto adicionado ao carrinho!', 'success');
            }
            
            updateCartBadge();
        }
        
        function comprarAgora(productId) {
            // Check if user is logged in
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            // Add product to cart (without notification)
            addToCart(productId, false);
            
            // Navigate to cart page immediately
            showPage('carrinho');
        }
        
        function updateCartBadge() {
            const totalItems = shoppingCart.reduce((sum, item) => sum + item.quantidade, 0);
            const cartBadge = document.getElementById('cart-badge');
            const mobileCartCount = document.getElementById('mobile-cart-count');
            
            if (cartBadge) {
                cartBadge.textContent = totalItems;
                cartBadge.style.display = totalItems > 0 ? 'flex' : 'none';
            }
            
            if (mobileCartCount) {
                mobileCartCount.textContent = totalItems;
            }
        }
        
        function calculateCartTotal() {
            return shoppingCart.reduce((sum, item) => sum + (item.preco * item.quantidade), 0);
        }
        
        function removeFromCart(productId) {
            if (confirm('Remover este produto do carrinho?')) {
                shoppingCart = shoppingCart.filter(item => item.produtoId !== productId);
                updateCartBadge();
                renderCartPage();
                showNotification('Produto removido do carrinho', 'info');
            }
        }
        
        function updateCartQuantity(productId, change) {
            const item = shoppingCart.find(item => item.produtoId === productId);
            const product = products.find(p => p.id === productId);
            
            if (!item || !product) return;
            
            const newQuantity = item.quantidade + change;
            
            if (newQuantity <= 0) {
                removeFromCart(productId);
                return;
            }
            
            if (newQuantity > product.estoque) {
                showNotification('Quantidade m√°xima atingida', 'error');
                return;
            }
            
            item.quantidade = newQuantity;
            updateCartBadge();
            renderCartPage();
        }
        
        function renderCartPage() {
            const cartContent = document.getElementById('cart-content');
            const cartSubtitle = document.getElementById('cart-subtitle');
            const emptyCartState = document.getElementById('empty-cart-state');
            
            const totalItems = shoppingCart.reduce((sum, item) => sum + item.quantidade, 0);
            cartSubtitle.textContent = `${totalItems} ${totalItems === 1 ? 'item' : 'itens'} no carrinho`;
            
            if (shoppingCart.length === 0) {
                cartContent.innerHTML = '';
                emptyCartState.style.display = 'block';
                return;
            }
            
            emptyCartState.style.display = 'none';
            
            const total = calculateCartTotal();
            
            let html = `
                <div style="display: grid; grid-template-columns: 1fr auto; gap: var(--space-8); align-items: start;">
                    <!-- Cart Items -->
                    <div>
            `;
            
            shoppingCart.forEach(item => {
                const subtotal = item.preco * item.quantidade;
                const icon = getCategoryIcon(products.find(p => p.id === item.produtoId)?.categoria || 'Outros');
                
                html += `
                    <div style="display: grid; grid-template-columns: auto 1fr auto auto; gap: var(--space-4); align-items: center; padding: var(--space-4); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border); margin-bottom: var(--space-4);">
                        <!-- Product Image -->
                        <div style="width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; font-size: 2rem; background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); color: white; border-radius: var(--radius-md);">
                            ${icon}
                        </div>
                        
                        <!-- Product Info -->
                        <div>
                            <h4 style="margin: 0 0 var(--space-1) 0; color: var(--color-text);">${item.nome}</h4>
                            <p style="margin: 0 0 var(--space-1) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">Vendido por: ${item.nomeLoja}</p>
                            <p style="margin: 0; color: var(--color-success); font-weight: 600;">R$ ${item.preco.toFixed(2).replace('.', ',')}</p>
                        </div>
                        
                        <!-- Quantity Controls -->
                        <div style="display: flex; align-items: center; gap: var(--space-2); background: var(--color-surface); border-radius: var(--radius-md); padding: var(--space-1);">
                            <button onclick="updateCartQuantity(${item.produtoId}, -1)" style="width: 32px; height: 32px; border: none; background: var(--color-secondary); color: white; border-radius: var(--radius-sm); cursor: pointer; font-weight: bold;">-</button>
                            <span style="min-width: 40px; text-align: center; font-weight: 600;">${item.quantidade}</span>
                            <button onclick="updateCartQuantity(${item.produtoId}, 1)" style="width: 32px; height: 32px; border: none; background: var(--color-secondary); color: white; border-radius: var(--radius-sm); cursor: pointer; font-weight: bold;">+</button>
                        </div>
                        
                        <!-- Subtotal & Remove -->
                        <div style="text-align: right;">
                            <p style="margin: 0 0 var(--space-2) 0; font-weight: 600; color: var(--color-success);">R$ ${subtotal.toFixed(2).replace('.', ',')}</p>
                            <button onclick="removeFromCart(${item.produtoId})" style="background: var(--color-error); color: white; border: none; padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); font-size: var(--font-size-sm); cursor: pointer;">Remover</button>
                        </div>
                    </div>
                `;
            });
            
            html += `
                    </div>
                    
                    <!-- Cart Summary -->
                    <div style="background: var(--color-surface-light); padding: var(--space-6); border-radius: var(--radius-lg); border: 1px solid var(--color-border); position: sticky; top: 100px; min-width: 300px;">
                        <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Resumo do Pedido</h3>
                        
                        <div style="border-bottom: 1px solid var(--color-border); padding-bottom: var(--space-4); margin-bottom: var(--space-4);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-2);">
                                <span>Subtotal:</span>
                                <span>R$ ${total.toFixed(2).replace('.', ',')}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; color: var(--color-text-secondary); font-size: var(--font-size-sm);">
                                <span>Frete:</span>
                                <span>Calcular no checkout</span>
                            </div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; font-size: var(--font-size-lg); font-weight: bold; color: var(--color-success); margin-bottom: var(--space-6);">
                            <span>Total:</span>
                            <span>R$ ${total.toFixed(2).replace('.', ',')}</span>
                        </div>
                        
                        <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                            <button class="btn" onclick="checkout()" style="width: 100%;">Finalizar Compra</button>
                            <button class="btn btn-outline" onclick="showPage('marketplace')" style="width: 100%;">Continuar Comprando</button>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile Layout -->
                <style>
                    @media (max-width: 768px) {
                        #cart-content > div:first-child {
                            grid-template-columns: 1fr !important;
                        }
                        
                        #cart-content .sticky {
                            position: relative !important;
                            top: auto !important;
                            margin-top: var(--space-6);
                        }
                    }
                </style>
            `;
            
            cartContent.innerHTML = html;
        }
        
        function checkout() {
            showNotification('Funcionalidade de checkout ser√° implementada em breve', 'info');
        }
        
        function showNotification(message, type = 'success') {
            // Remove existing notification
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();
            
            // Create new notification
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Show with animation
            setTimeout(() => notification.classList.add('show'), 100);
            
            // Hide after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // Close mobile sidebar when clicking outside or on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeMobileSidebar();
                closeLoginModal();
            }
        });
        
        // Close mobile sidebar on window resize if it becomes desktop
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                closeMobileSidebar();
            }
        });
        
        // Mobile Navigation Functions
        function toggleMobileSidebar() {
            const sidebar = document.querySelector('.mobile-sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            const hamburger = document.querySelector('.hamburger-menu');
            
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
            hamburger.classList.toggle('open');
            
            // Prevent body scroll when sidebar is open
            if (sidebar.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }
        
        function closeMobileSidebar() {
            const sidebar = document.querySelector('.mobile-sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            const hamburger = document.querySelector('.hamburger-menu');
            
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
            hamburger.classList.remove('open');
            document.body.style.overflow = '';
        }
        
        function navigateFromSidebar(pageId) {
            closeMobileSidebar();
            showPage(pageId);
        }
        
        function logoutFromSidebar() {
            closeMobileSidebar();
            logout();
        }
        
        // Login Modal Functions
        function showLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        
        function closeLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.classList.remove('show');
            document.body.style.overflow = '';
        }
        
        function goToLogin() {
            closeLoginModal();
            showPage('login');
        }
        
        function goToRegister() {
            closeLoginModal();
            showPage('registro');
        }
        
        // Google Authentication Functions (UI only for now)
        function handleGoogleLogin() {
            showNotification('Login com Google ser√° implementado em breve', 'info');
            console.log('Google login - coming soon');
        }
        
        function handleGoogleRegister() {
            showNotification('Registro com Google ser√° implementado em breve', 'info');
            console.log('Google register - coming soon');
        }
        
        // Update navigation for logged in users
        function updateNavigation() {
            const logoutLink = document.querySelector('#logout-link');
            const mobileLogoutLink = document.querySelector('#mobile-logout-link');
            const mobileLoginLink = document.querySelector('#mobile-login-link');
            const mobileRegisterLink = document.querySelector('#mobile-register-link');
            const cartNavLink = document.querySelector('#cart-nav-link');
            const mobileCartLink = document.querySelector('#mobile-cart-link');
            const navLoginLink = document.querySelector('#nav-login-link');
            const navRegisterLink = document.querySelector('#nav-register-link');
            
            if (currentUser) {
                logoutLink.classList.remove('hidden');
                mobileLogoutLink.classList.remove('hidden');
                cartNavLink.classList.remove('hidden');
                mobileCartLink.classList.remove('hidden');
                
                mobileLoginLink.style.display = 'none';
                mobileRegisterLink.style.display = 'none';
                navLoginLink.style.display = 'none';
                navRegisterLink.style.display = 'none';
            } else {
                logoutLink.classList.add('hidden');
                mobileLogoutLink.classList.add('hidden');
                cartNavLink.classList.add('hidden');
                mobileCartLink.classList.add('hidden');
                
                mobileLoginLink.style.display = 'block';
                mobileRegisterLink.style.display = 'block';
                navLoginLink.style.display = 'block';
                navRegisterLink.style.display = 'block';
            }
        }
        
        // Logout Function
        function logout() {
            currentUser = null;
            shoppingCart = []; // Clear cart on logout
            updateCartBadge();
            updateNavigation();
            showPage('marketplace');
        }
        
        // Category card click function for client dashboard
        function goToMarketplaceWithCategory(category) {
            showPage('marketplace');
            
            // Update filter
            currentFilter = category;
            
            // Update active filter button
            setTimeout(() => {
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.textContent.includes(category) || (category === 'Todos' && btn.textContent === 'Todos')) {
                        btn.classList.add('active');
                    }
                });
                
                // Filter and render products
                let filteredProducts;
                if (category === 'Todos') {
                    filteredProducts = products.filter(p => p.publicado);
                } else {
                    filteredProducts = products.filter(p => p.publicado && p.categoria === category);
                }
                
                renderProducts(filteredProducts);
                
                // Scroll to top
                window.scrollTo(0, 0);
            }, 100);
        }
        
        // Page navigation with marketplace loading
        const originalShowPage = showPage;
        showPage = function(pageId) {
            originalShowPage(pageId);
            
            // Load specific page content
            if (pageId === 'marketplace') {
                loadMarketplace();
            } else if (pageId === 'seller-profile') {
                loadSellerProfileData();
            } else if (pageId === 'carrinho') {
                renderCartPage();
            } else if (pageId === 'cliente-profile') {
                loadClienteProfileData();
            }
        }
        
        // Store Page Functions
        function navigateToStore(vendedorId) {
            showStorePage(vendedorId);
        }
        
        function showStorePage(vendedorId) {
            // Find the seller
            const seller = users.find(u => u.id.toString() === vendedorId && u.tipo === 'vendedor');
            if (!seller) {
                showNotification('Loja n√£o encontrada', 'error');
                return;
            }
            
            // Get seller's products
            const sellerProducts = products.filter(p => p.vendedorId === vendedorId && p.publicado);
            
            // Load store page data
            loadStorePageData(seller, sellerProducts);
            
            // Show store page
            showPage('store-page');
        }
        
        function loadStorePageData(seller, sellerProducts) {
            // Update breadcrumb
            document.getElementById('store-breadcrumb-name').textContent = seller.nomeLoja;
            
            // Generate store avatar (initials from store name)
            const initials = generateStoreInitials(seller.nomeLoja);
            document.getElementById('store-avatar').textContent = initials;
            
            // Update store header info
            document.getElementById('store-name-display').textContent = seller.nomeLoja;
            document.getElementById('store-category-display').textContent = seller.categoria || 'Categoria n√£o informada';
            document.getElementById('store-description-display').textContent = seller.descricaoLoja || 'Esta loja ainda n√£o tem uma descri√ß√£o.';
            document.getElementById('store-products-count').textContent = sellerProducts.length;
            
            // Format member since date
            const memberDate = new Date(seller.id);
            const memberSince = memberDate.toLocaleDateString('pt-BR', { 
                month: 'short', 
                year: 'numeric' 
            }).replace('.', '');
            document.getElementById('store-member-since').textContent = memberSince;
            
            // Update products section title
            document.getElementById('store-products-title').textContent = seller.nomeLoja;
            
            // Load store category filters
            loadStoreCategoryFilters(sellerProducts);
            
            // Load store products
            renderStoreProducts(sellerProducts);
        }
        
        function generateStoreInitials(storeName) {
            if (!storeName) return 'üè™';
            
            const words = storeName.split(' ');
            if (words.length === 1) {
                return words[0].substring(0, 2).toUpperCase();
            } else {
                return (words[0][0] + words[1][0]).toUpperCase();
            }
        }
        
        function loadStoreCategoryFilters(sellerProducts) {
            // Get unique categories from seller's products
            const categories = [...new Set(sellerProducts.map(p => p.categoria))];
            
            const filtersContainer = document.getElementById('store-category-filters');
            let filtersHTML = '<button class="filter-btn active" onclick="filterStoreByCategory(\'Todos\')">Todos</button>';
            
            categories.forEach(category => {
                const icon = getCategoryIcon(category);
                filtersHTML += `<button class="filter-btn" onclick="filterStoreByCategory('${category}')">${icon} ${category}</button>`;
            });
            
            filtersContainer.innerHTML = filtersHTML;
        }
        
        function renderStoreProducts(productsToShow, filterCategory = 'Todos') {
            const container = document.getElementById('store-products-grid');
            const emptyState = document.getElementById('store-empty-state');
            
            if (productsToShow.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            let html = '';
            productsToShow.forEach(product => {
                const icon = getCategoryIcon(product.categoria);
                const stockStatus = getStockStatus(product.estoque);
                
                html += `
                    <div class="product-card" onclick="showProductDetail(${product.id})">
                        <div class="product-image">${icon}</div>
                        <div class="product-category">${product.categoria}</div>
                        <div class="product-name">${product.nome}</div>
                        <div class="product-price">R$ ${product.preco.toFixed(2).replace('.', ',')}</div>
                        <div class="product-description">${product.descricao.length > 60 ? product.descricao.substring(0, 60) + '...' : product.descricao}</div>
                        <div class="product-stock ${stockStatus.class}">${stockStatus.text}</div>
                        <button class="btn btn-add-to-cart" onclick="event.stopPropagation(); addToCart(${product.id})">üõí Adicionar ao Carrinho</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function filterStoreByCategory(category) {
            // Update active filter button
            document.querySelectorAll('#store-category-filters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            // Get current store's vendedor ID from the page state
            const storeName = document.getElementById('store-name-display').textContent;
            const seller = users.find(u => u.nomeLoja === storeName && u.tipo === 'vendedor');
            
            if (!seller) return;
            
            // Filter products
            let sellerProducts = products.filter(p => p.vendedorId === seller.id.toString() && p.publicado);
            
            if (category !== 'Todos') {
                sellerProducts = sellerProducts.filter(p => p.categoria === category);
            }
            
            renderStoreProducts(sellerProducts, category);
        }
        
        function showMyStore() {
            if (!currentUser || currentUser.tipo !== 'vendedor') {
                showNotification('Acesso negado', 'error');
                return;
            }
            
            showStorePage(currentUser.id.toString());
        }
        
        function contactSeller() {
            showNotification('Funcionalidade de contato ser√° implementada em breve', 'info');
        }
        
        // Cliente Profile Functions
        function showClienteProfile() {
            if (!currentUser || currentUser.tipo !== 'cliente') {
                showNotification('Acesso negado', 'error');
                return;
            }
            
            showPage('cliente-profile');
        }
        
        function loadClienteProfileData() {
            if (!currentUser || currentUser.tipo !== 'cliente') return;
            
            // Initialize endereco if it doesn't exist
            if (!currentUser.endereco) {
                currentUser.endereco = {
                    cep: '',
                    rua: '',
                    numero: '',
                    complemento: '',
                    bairro: '',
                    cidade: '',
                    estado: ''
                };
            }
            
            // Load profile view mode data
            document.getElementById('cliente-display-nome').textContent = currentUser.nome || 'N√£o informado';
            document.getElementById('cliente-display-email').textContent = currentUser.email || 'N√£o informado';
            document.getElementById('cliente-display-telefone').textContent = currentUser.telefone || 'N√£o informado';
            
            // Load endereco data
            document.getElementById('cliente-display-cep').textContent = currentUser.endereco.cep || 'N√£o informado';
            document.getElementById('cliente-display-rua').textContent = currentUser.endereco.rua || 'N√£o informado';
            document.getElementById('cliente-display-numero').textContent = currentUser.endereco.numero || 'N√£o informado';
            document.getElementById('cliente-display-complemento').textContent = currentUser.endereco.complemento || 'N√£o informado';
            document.getElementById('cliente-display-bairro').textContent = currentUser.endereco.bairro || 'N√£o informado';
            document.getElementById('cliente-display-cidade').textContent = currentUser.endereco.cidade || 'N√£o informado';
            document.getElementById('cliente-display-estado').textContent = currentUser.endereco.estado ? 
                (estadosBrasileiros.find(e => e.code === currentUser.endereco.estado)?.name || currentUser.endereco.estado) : 
                'N√£o informado';
        }
        
        function enterClienteEditMode() {
            if (!currentUser || currentUser.tipo !== 'cliente') return;
            
            // Hide view mode, show edit mode
            document.getElementById('cliente-profile-view-mode').style.display = 'none';
            document.getElementById('cliente-profile-edit-mode').style.display = 'block';
            
            // Pre-fill form with current data
            document.getElementById('edit-cliente-nome').value = currentUser.nome || '';
            document.getElementById('edit-cliente-telefone').value = currentUser.telefone || '';
            document.getElementById('edit-cliente-display-email').textContent = currentUser.email;
            
            // Pre-fill endereco if it exists
            if (currentUser.endereco) {
                document.getElementById('edit-cliente-cep').value = currentUser.endereco.cep || '';
                document.getElementById('edit-cliente-rua').value = currentUser.endereco.rua || '';
                document.getElementById('edit-cliente-numero').value = currentUser.endereco.numero || '';
                document.getElementById('edit-cliente-complemento').value = currentUser.endereco.complemento || '';
                document.getElementById('edit-cliente-bairro').value = currentUser.endereco.bairro || '';
                document.getElementById('edit-cliente-cidade').value = currentUser.endereco.cidade || '';
                document.getElementById('edit-cliente-estado').value = currentUser.endereco.estado || '';
            }
            
            // Clear any previous error messages
            document.querySelectorAll('#cliente-profile-edit-mode .error-message').forEach(error => {
                error.style.display = 'none';
            });
            document.getElementById('cliente-profile-edit-messages').innerHTML = '';
        }
        
        function cancelClienteEditMode() {
            // Show view mode, hide edit mode
            document.getElementById('cliente-profile-view-mode').style.display = 'block';
            document.getElementById('cliente-profile-edit-mode').style.display = 'none';
            
            // Clear form
            document.getElementById('editClienteProfileForm').reset();
        }
        
        function formatCep(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length > 8) {
                value = value.substring(0, 8);
            }
            
            if (value.length > 5) {
                value = value.replace(/(\d{5})(\d{1,3})/, '$1-$2');
            }
            
            input.value = value;
        }
        
        // Edit Cliente Profile Form Handler
        document.addEventListener('DOMContentLoaded', function() {
            const editClienteForm = document.getElementById('editClienteProfileForm');
            if (editClienteForm) {
                editClienteForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    if (!currentUser || currentUser.tipo !== 'cliente') {
                        showMessage('cliente-profile-edit-messages', 'Erro: Usu√°rio n√£o autorizado', true);
                        return;
                    }
                    
                    const nome = document.getElementById('edit-cliente-nome').value.trim();
                    const telefone = document.getElementById('edit-cliente-telefone').value.trim();
                    const cep = document.getElementById('edit-cliente-cep').value.trim();
                    const rua = document.getElementById('edit-cliente-rua').value.trim();
                    const numero = document.getElementById('edit-cliente-numero').value.trim();
                    const complemento = document.getElementById('edit-cliente-complemento').value.trim();
                    const bairro = document.getElementById('edit-cliente-bairro').value.trim();
                    const cidade = document.getElementById('edit-cliente-cidade').value.trim();
                    const estado = document.getElementById('edit-cliente-estado').value;
                    
                    // Clear previous errors
                    document.querySelectorAll('#cliente-profile-edit-mode .error-message').forEach(error => {
                        error.style.display = 'none';
                    });
                    
                    let hasError = false;
                    
                    // Validate required fields
                    if (!nome || nome.length < 3) {
                        document.getElementById('edit-cliente-nome-error').style.display = 'block';
                        hasError = true;
                    }
                    
                    if (hasError) {
                        showMessage('cliente-profile-edit-messages', 'Por favor, corrija os erros abaixo.', true);
                        return;
                    }
                    
                    // Update user data
                    currentUser.nome = nome;
                    currentUser.telefone = telefone;
                    
                    // Initialize endereco if it doesn't exist
                    if (!currentUser.endereco) {
                        currentUser.endereco = {};
                    }
                    
                    // Update endereco
                    currentUser.endereco.cep = cep;
                    currentUser.endereco.rua = rua;
                    currentUser.endereco.numero = numero;
                    currentUser.endereco.complemento = complemento;
                    currentUser.endereco.bairro = bairro;
                    currentUser.endereco.cidade = cidade;
                    currentUser.endereco.estado = estado;
                    
                    // Update user in users array
                    const userIndex = users.findIndex(u => u.id === currentUser.id);
                    if (userIndex !== -1) {
                        users[userIndex] = { ...currentUser };
                    }
                    
                    // Update dashboard display name
                    const customerNameElement = document.getElementById('customer-name');
                    if (customerNameElement) {
                        customerNameElement.textContent = nome;
                    }
                    
                    // Show success message and return to view mode
                    showNotification('Perfil atualizado com sucesso!', 'success');
                    
                    // Reload profile data and return to view mode
                    setTimeout(() => {
                        loadClienteProfileData();
                        cancelClienteEditMode();
                    }, 1000);
                });
            }
        });
        
        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            // Show marketplace (Explorar Produtos) page by default instead of home
            showPage('marketplace');
            
            // Initialize navigation state
            updateNavigation();
            
            // Initialize cart badge
            updateCartBadge();
        });
    </script>

</body></html>